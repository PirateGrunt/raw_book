<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>raw - R Actuarial Workshops</title>
  <meta content="text/html; charset=UTF-8" http-equiv="Content-Type">
  <meta name="description" content="This is a companion to actuarial workshops.">
  <meta name="generator" content="bookdown 0.1 and GitBook 2.6.7">

  <meta property="og:title" content="raw - R Actuarial Workshops" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="This is a companion to actuarial workshops." />
  <meta name="github-repo" content="PirateGrunt/raw_book" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="raw - R Actuarial Workshops" />
  
  <meta name="twitter:description" content="This is a companion to actuarial workshops." />
  

<meta name="author" content="Brian A. Fannin, ACAS">

<meta name="date" content="2016-07-30">


  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="data.html">


<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>


  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">raw - Raw Actuarial Workshops</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Introduction</a></li>
<li class="chapter" data-level="1" data-path="setup.html"><a href="setup.html"><i class="fa fa-check"></i><b>1</b> Setup</a><ul>
<li class="chapter" data-level="1.1" data-path="setup.html"><a href="setup.html#installation"><i class="fa fa-check"></i><b>1.1</b> Installation</a><ul>
<li class="chapter" data-level="1.1.1" data-path="setup.html"><a href="setup.html#installing-r"><i class="fa fa-check"></i><b>1.1.1</b> Installing R</a></li>
<li class="chapter" data-level="1.1.2" data-path="setup.html"><a href="setup.html#installing-r-studio"><i class="fa fa-check"></i><b>1.1.2</b> Installing R Studio</a></li>
<li class="chapter" data-level="1.1.3" data-path="setup.html"><a href="setup.html#it"><i class="fa fa-check"></i><b>1.1.3</b> IT</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="setup.html"><a href="setup.html#the-operating-environment"><i class="fa fa-check"></i><b>1.2</b> The Operating Environment</a><ul>
<li class="chapter" data-level="1.2.1" data-path="setup.html"><a href="setup.html#command-line-interface"><i class="fa fa-check"></i><b>1.2.1</b> Command-line interface</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="setup.html"><a href="setup.html#entering-commands"><i class="fa fa-check"></i><b>1.3</b> Entering Commands</a></li>
<li class="chapter" data-level="1.4" data-path="setup.html"><a href="setup.html#getting-help"><i class="fa fa-check"></i><b>1.4</b> Getting help</a></li>
<li class="chapter" data-level="1.5" data-path="setup.html"><a href="setup.html#the-working-directory"><i class="fa fa-check"></i><b>1.5</b> The working directory</a><ul>
<li class="chapter" data-level="1.5.1" data-path="setup.html"><a href="setup.html#directory-paths"><i class="fa fa-check"></i><b>1.5.1</b> Directory paths</a></li>
<li class="chapter" data-level="1.5.2" data-path="setup.html"><a href="setup.html#source-files"><i class="fa fa-check"></i><b>1.5.2</b> Source files</a></li>
</ul></li>
<li class="chapter" data-level="1.6" data-path="setup.html"><a href="setup.html#your-first-script"><i class="fa fa-check"></i><b>1.6</b> Your first script</a><ul>
<li class="chapter" data-level="1.6.1" data-path="setup.html"><a href="setup.html#executing-a-script"><i class="fa fa-check"></i><b>1.6.1</b> Executing a script</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="data.html"><a href="data.html"><i class="fa fa-check"></i>Data</a></li>
<li class="chapter" data-level="2" data-path="vectors-vectors.html"><a href="vectors-vectors.html"><i class="fa fa-check"></i><b>2</b> Vectors {vectors}</a><ul>
<li class="chapter" data-level="2.1" data-path="vectors-vectors.html"><a href="vectors-vectors.html#what-is-a-vector"><i class="fa fa-check"></i><b>2.1</b> What is a vector?</a><ul>
<li class="chapter" data-level="2.1.1" data-path="vectors-vectors.html"><a href="vectors-vectors.html#vector-properties"><i class="fa fa-check"></i><b>2.1.1</b> Vector properties</a></li>
<li class="chapter" data-level="2.1.2" data-path="vectors-vectors.html"><a href="vectors-vectors.html#vector-construction"><i class="fa fa-check"></i><b>2.1.2</b> Vector construction</a></li>
<li class="chapter" data-level="2.1.3" data-path="vectors-vectors.html"><a href="vectors-vectors.html#seq"><i class="fa fa-check"></i><b>2.1.3</b> <code>seq</code></a></li>
<li class="chapter" data-level="2.1.4" data-path="vectors-vectors.html"><a href="vectors-vectors.html#rep"><i class="fa fa-check"></i><b>2.1.4</b> <code>rep</code></a></li>
<li class="chapter" data-level="2.1.5" data-path="vectors-vectors.html"><a href="vectors-vectors.html#concatenation"><i class="fa fa-check"></i><b>2.1.5</b> Concatenation</a></li>
<li class="chapter" data-level="2.1.6" data-path="vectors-vectors.html"><a href="vectors-vectors.html#growth-by-assignment"><i class="fa fa-check"></i><b>2.1.6</b> Growth by assignment</a></li>
<li class="chapter" data-level="2.1.7" data-path="vectors-vectors.html"><a href="vectors-vectors.html#vector-access---by-index"><i class="fa fa-check"></i><b>2.1.7</b> Vector access - by index</a></li>
<li class="chapter" data-level="2.1.8" data-path="vectors-vectors.html"><a href="vectors-vectors.html#vector-access---logical-access"><i class="fa fa-check"></i><b>2.1.8</b> Vector access - logical access</a></li>
<li class="chapter" data-level="2.1.9" data-path="vectors-vectors.html"><a href="vectors-vectors.html#which"><i class="fa fa-check"></i><b>2.1.9</b> <code>which</code></a></li>
<li class="chapter" data-level="2.1.10" data-path="vectors-vectors.html"><a href="vectors-vectors.html#sample"><i class="fa fa-check"></i><b>2.1.10</b> <code>sample</code></a></li>
<li class="chapter" data-level="2.1.11" data-path="vectors-vectors.html"><a href="vectors-vectors.html#sample-ii"><i class="fa fa-check"></i><b>2.1.11</b> <code>sample</code> II</a></li>
<li class="chapter" data-level="2.1.12" data-path="vectors-vectors.html"><a href="vectors-vectors.html#order"><i class="fa fa-check"></i><b>2.1.12</b> <code>order</code></a></li>
<li class="chapter" data-level="2.1.13" data-path="vectors-vectors.html"><a href="vectors-vectors.html#vector-arithmetic"><i class="fa fa-check"></i><b>2.1.13</b> Vector arithmetic</a></li>
<li class="chapter" data-level="2.1.14" data-path="vectors-vectors.html"><a href="vectors-vectors.html#recycling"><i class="fa fa-check"></i><b>2.1.14</b> Recycling</a></li>
<li class="chapter" data-level="2.1.15" data-path="vectors-vectors.html"><a href="vectors-vectors.html#set-theory---part-i"><i class="fa fa-check"></i><b>2.1.15</b> Set theory - Part I</a></li>
<li class="chapter" data-level="2.1.16" data-path="vectors-vectors.html"><a href="vectors-vectors.html#set-theory---part-ii"><i class="fa fa-check"></i><b>2.1.16</b> Set theory - Part II</a></li>
<li class="chapter" data-level="2.1.17" data-path="vectors-vectors.html"><a href="vectors-vectors.html#summarization"><i class="fa fa-check"></i><b>2.1.17</b> Summarization</a></li>
<li class="chapter" data-level="2.1.18" data-path="vectors-vectors.html"><a href="vectors-vectors.html#vectors"><i class="fa fa-check"></i><b>2.1.18</b> Vectors</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="vectors-vectors.html"><a href="vectors-vectors.html#from-data"><i class="fa fa-check"></i><b>2.2</b> From data</a><ul>
<li class="chapter" data-level="2.2.1" data-path="vectors-vectors.html"><a href="vectors-vectors.html#data-types"><i class="fa fa-check"></i><b>2.2.1</b> Data types</a></li>
<li class="chapter" data-level="2.2.2" data-path="vectors-vectors.html"><a href="vectors-vectors.html#what-is-it"><i class="fa fa-check"></i><b>2.2.2</b> What is it?</a></li>
<li class="chapter" data-level="2.2.3" data-path="vectors-vectors.html"><a href="vectors-vectors.html#data-conversion"><i class="fa fa-check"></i><b>2.2.3</b> Data conversion</a></li>
<li class="chapter" data-level="2.2.4" data-path="vectors-vectors.html"><a href="vectors-vectors.html#class"><i class="fa fa-check"></i><b>2.2.4</b> Class</a></li>
<li class="chapter" data-level="2.2.5" data-path="vectors-vectors.html"><a href="vectors-vectors.html#mode"><i class="fa fa-check"></i><b>2.2.5</b> Mode</a></li>
<li class="chapter" data-level="2.2.6" data-path="vectors-vectors.html"><a href="vectors-vectors.html#dates-and-times"><i class="fa fa-check"></i><b>2.2.6</b> Dates and times</a></li>
<li class="chapter" data-level="2.2.7" data-path="vectors-vectors.html"><a href="vectors-vectors.html#more-on-dates"><i class="fa fa-check"></i><b>2.2.7</b> More on dates</a></li>
<li class="chapter" data-level="2.2.8" data-path="vectors-vectors.html"><a href="vectors-vectors.html#what-day-is-it"><i class="fa fa-check"></i><b>2.2.8</b> What day is it?</a></li>
<li class="chapter" data-level="2.2.9" data-path="vectors-vectors.html"><a href="vectors-vectors.html#more-reading-on-dates"><i class="fa fa-check"></i><b>2.2.9</b> More reading on dates</a></li>
<li class="chapter" data-level="2.2.10" data-path="vectors-vectors.html"><a href="vectors-vectors.html#factors"><i class="fa fa-check"></i><b>2.2.10</b> Factors</a></li>
<li class="chapter" data-level="2.2.11" data-path="vectors-vectors.html"><a href="vectors-vectors.html#altering-factors"><i class="fa fa-check"></i><b>2.2.11</b> Altering factors</a></li>
<li class="chapter" data-level="2.2.12" data-path="vectors-vectors.html"><a href="vectors-vectors.html#avoid-factors"><i class="fa fa-check"></i><b>2.2.12</b> Avoid factors</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="vectors-vectors.html"><a href="vectors-vectors.html#exercises"><i class="fa fa-check"></i><b>2.3</b> Exercises</a><ul>
<li class="chapter" data-level="2.3.1" data-path="vectors-vectors.html"><a href="vectors-vectors.html#answers"><i class="fa fa-check"></i><b>2.3.1</b> Answers</a></li>
<li class="chapter" data-level="2.3.2" data-path="vectors-vectors.html"><a href="vectors-vectors.html#from-vectors-to-matrices-and-lists"><i class="fa fa-check"></i><b>2.3.2</b> From vectors to matrices and lists</a></li>
<li class="chapter" data-level="2.3.3" data-path="vectors-vectors.html"><a href="vectors-vectors.html#a-matrix"><i class="fa fa-check"></i><b>2.3.3</b> A matrix</a></li>
<li class="chapter" data-level="2.3.4" data-path="vectors-vectors.html"><a href="vectors-vectors.html#section"><i class="fa fa-check"></i><b>2.3.4</b> </a></li>
<li class="chapter" data-level="2.3.5" data-path="vectors-vectors.html"><a href="vectors-vectors.html#section-1"><i class="fa fa-check"></i><b>2.3.5</b> </a></li>
<li class="chapter" data-level="2.3.6" data-path="vectors-vectors.html"><a href="vectors-vectors.html#matrix-metadata"><i class="fa fa-check"></i><b>2.3.6</b> Matrix metadata</a></li>
<li class="chapter" data-level="2.3.7" data-path="vectors-vectors.html"><a href="vectors-vectors.html#data-access-for-a-matrix"><i class="fa fa-check"></i><b>2.3.7</b> Data access for a matrix</a></li>
<li class="chapter" data-level="2.3.8" data-path="vectors-vectors.html"><a href="vectors-vectors.html#data-access-continued"><i class="fa fa-check"></i><b>2.3.8</b> Data access continued</a></li>
<li class="chapter" data-level="2.3.9" data-path="vectors-vectors.html"><a href="vectors-vectors.html#matrix-summary"><i class="fa fa-check"></i><b>2.3.9</b> Matrix summary</a></li>
<li class="chapter" data-level="2.3.10" data-path="vectors-vectors.html"><a href="vectors-vectors.html#more-than-two-dimensions"><i class="fa fa-check"></i><b>2.3.10</b> More than two dimensions</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="vectors-vectors.html"><a href="vectors-vectors.html#exercises-1"><i class="fa fa-check"></i><b>2.4</b> Exercises</a></li>
<li class="chapter" data-level="2.5" data-path="vectors-vectors.html"><a href="vectors-vectors.html#answers-1"><i class="fa fa-check"></i><b>2.5</b> Answers</a><ul>
<li class="chapter" data-level="2.5.1" data-path="vectors-vectors.html"><a href="vectors-vectors.html#next"><i class="fa fa-check"></i><b>2.5.1</b> Next</a></li>
</ul></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/PirateGrunt/raw_book" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">raw - R Actuarial Workshops</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="vectors-vectors" class="section level1">
<h1><span class="header-section-number">Chapter 2</span> Vectors {vectors}</h1>
<p>In this chapter, we’re going to learn about vectors, which are the key building blocks of R programming. By the end of this chapter, you will know:</p>
<ul>
<li>What is a vector?</li>
<li>How are vectors created?</li>
<li>What are data types and how can I tell what sort of data I’m working with?</li>
<li>What is metadata?</li>
<li>How can I summarize a vector?</li>
</ul>
<div id="what-is-a-vector" class="section level2">
<h2><span class="header-section-number">2.1</span> What is a vector?</h2>
<p>Enter a value at the console and hit enter. What do we see?</p>
<div class="figure">
<img src="images/ConsoleVector.png" alt="Console returning one value" />
<p class="caption">Console returning one value</p>
</div>
<p>This makes a bit of sense. We entered 2 and we got back 2. But what’s that 1 in brackets? Things get even weirder when we ask R to return more than one value. Type “letters” (without the quotes) and have a look.</p>
<div class="figure">
<img src="images/ConsoleVector2.png" alt="Console returning more than one value" />
<p class="caption">Console returning more than one value</p>
</div>
<p>Now there’s not only a 1 in brackets, there’s also a 16 on the second line. (Note that your console may appear a bit different than mine.) You’re probably clever enough to have figured out that the numbers in brackets have something to do with the number of outputs generated. In the second case, “p” is the 16th letter of the alphabet and the bracketed 16 helps us know where we are in the sequence when it spills onto multiple lines. So, the bracketed figures are there to indicate how many numbers have been returned.</p>
<p>OK, cool. So what?</p>
<p>So everything! In R, every variable is a vector. Think back to <a href="vectors-vectors.html#section-1"></a> When we entered the number 2 at the console, we were creating (briefly) a vector which had a length of 1. “letters” is a special vector with one element for each letter of the English alphabet. Vectors allow us to reason about a lot of data at once. The variable “letters” for instance enables us to store 26 values in one place. Further, it allows us to make changes to all of the elements of the vector at the same time. For example:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">paste</span>(<span class="st">&quot;Letter&quot;</span>, letters)</code></pre></div>
<pre><code>##  [1] &quot;Letter a&quot; &quot;Letter b&quot; &quot;Letter c&quot; &quot;Letter d&quot; &quot;Letter e&quot; &quot;Letter f&quot;
##  [7] &quot;Letter g&quot; &quot;Letter h&quot; &quot;Letter i&quot; &quot;Letter j&quot; &quot;Letter k&quot; &quot;Letter l&quot;
## [13] &quot;Letter m&quot; &quot;Letter n&quot; &quot;Letter o&quot; &quot;Letter p&quot; &quot;Letter q&quot; &quot;Letter r&quot;
## [19] &quot;Letter s&quot; &quot;Letter t&quot; &quot;Letter u&quot; &quot;Letter v&quot; &quot;Letter w&quot; &quot;Letter x&quot;
## [25] &quot;Letter y&quot; &quot;Letter z&quot;</code></pre>
<p>Using the <code>paste</code> command, we took each element of “letters” and prefixed it with the text “Letter”. This is similar to applying the same function to a set of contiguous cells in a spreadsheet. But in this case, I didn’t need to copy and paste something 26 times. I didn’t even need to worry about how many times the command needed to be repeated. Vectors can grow and shrink automatically. No need to move cells around on a sheet. No need to copy formulas or change named ranges. R just did it. (Note that by default the <code>paste</code> function will automatically add a blank space between elements. The function <code>paste0</code> will concatenate elements without a space. Try it.)</p>
<div id="vector-properties" class="section level3">
<h3><span class="header-section-number">2.1.1</span> Vector properties</h3>
<p>All vectors share some basic properties</p>
<ul>
<li>Every element in a vector must be the same type.
<ul>
<li>R will change data types if they are not!</li>
<li>Different types are possible by using a list or a data frame (later)</li>
</ul></li>
<li>It’s possible to add metadata (like names) via attributes</li>
<li>Vectors have one dimension</li>
<li>Higher dimensions are possible via matrices and arrays</li>
</ul>
<p>As we’ll see later, the issue of dimension is a bit arbitrary. At this point, the key thing to bear in mind is that <em>all of the data is of the same type</em>. Later on, we’ll talk about the various data types that R supports. For now, it should be fairly clear from the context.</p>
</div>
<div id="vector-construction" class="section level3">
<h3><span class="header-section-number">2.1.2</span> Vector construction</h3>
<p>There’s no real trick here. You’ll be constructing vectors whether you want to be or not. But let’s talk about a few core functions for vector construction and manipulation.</p>
</div>
<div id="seq" class="section level3">
<h3><span class="header-section-number">2.1.3</span> <code>seq</code></h3>
<p><code>seq</code> is used often to generate a sequence of values. The colon operator <code>:</code> is a shortcut for a sequence of integers.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">pies =<span class="st"> </span><span class="kw">seq</span>(<span class="dt">from =</span> <span class="dv">0</span>, <span class="dt">by =</span> pi, <span class="dt">length.out =</span> <span class="dv">5</span>)
i &lt;-<span class="st"> </span><span class="dv">1</span>:<span class="dv">5</span>
year =<span class="st"> </span><span class="dv">2000</span>:<span class="dv">2004</span></code></pre></div>
<p><img src="raw_files/figure-html/unnamed-chunk-12-1.png" width="672" /></p>
</div>
<div id="rep" class="section level3">
<h3><span class="header-section-number">2.1.4</span> <code>rep</code></h3>
<p>The <code>rep</code> function will replicate its input</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">i =<span class="st"> </span><span class="kw">rep</span>(pi, <span class="dv">100</span>)
<span class="kw">head</span>(i)</code></pre></div>
<pre><code>## [1] 3.141593 3.141593 3.141593 3.141593 3.141593 3.141593</code></pre>
</div>
<div id="concatenation" class="section level3">
<h3><span class="header-section-number">2.1.5</span> Concatenation</h3>
<p>The <code>c()</code> function will concatenate values.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">i &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>)
j &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">6</span>, <span class="dv">7</span>, <span class="dv">8</span>, <span class="dv">9</span>, <span class="dv">10</span>)
k &lt;-<span class="st"> </span><span class="kw">c</span>(i, j)
l &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>:<span class="dv">5</span>, <span class="dv">6</span>:<span class="dv">10</span>)</code></pre></div>
<p><img src="raw_files/figure-html/unnamed-chunk-15-1.png" width="672" /><img src="raw_files/figure-html/unnamed-chunk-15-2.png" width="672" /><img src="raw_files/figure-html/unnamed-chunk-15-3.png" width="672" /></p>
</div>
<div id="growth-by-assignment" class="section level3">
<h3><span class="header-section-number">2.1.6</span> Growth by assignment</h3>
<p>Assigning a value beyond a vectors limits will automatically grow the vector. Interim values are assigned <code>NA</code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">i &lt;-<span class="st"> </span><span class="dv">1</span>:<span class="dv">10</span>
i[<span class="dv">30</span>] =<span class="st"> </span>pi
i</code></pre></div>
<pre><code>##  [1]  1.000000  2.000000  3.000000  4.000000  5.000000  6.000000  7.000000
##  [8]  8.000000  9.000000 10.000000        NA        NA        NA        NA
## [15]        NA        NA        NA        NA        NA        NA        NA
## [22]        NA        NA        NA        NA        NA        NA        NA
## [29]        NA  3.141593</code></pre>
</div>
<div id="vector-access---by-index" class="section level3">
<h3><span class="header-section-number">2.1.7</span> Vector access - by index</h3>
<p>Vectors may be accessed by their numeric indices. Remember, ‘:’ is shorthand to generate a sequence.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">set.seed</span>(<span class="dv">1234</span>)
e &lt;-<span class="st"> </span><span class="kw">rnorm</span>(<span class="dv">100</span>)
e[<span class="dv">1</span>]</code></pre></div>
<pre><code>## [1] -1.207066</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">e[<span class="dv">1</span>:<span class="dv">4</span>]</code></pre></div>
<pre><code>## [1] -1.2070657  0.2774292  1.0844412 -2.3456977</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">e[<span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">3</span>)]</code></pre></div>
<pre><code>## [1] -1.207066  1.084441</code></pre>
</div>
<div id="vector-access---logical-access" class="section level3">
<h3><span class="header-section-number">2.1.8</span> Vector access - logical access</h3>
<p>Vectors may be accessed logically. This may be done by passing in a logical vector, or a logical expression.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">i =<span class="st"> </span><span class="dv">5</span>:<span class="dv">9</span>
i[<span class="kw">c</span>(<span class="ot">TRUE</span>, <span class="ot">FALSE</span>, <span class="ot">FALSE</span>, <span class="ot">FALSE</span>, <span class="ot">TRUE</span>)]</code></pre></div>
<pre><code>## [1] 5 9</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">i[i &gt;<span class="st"> </span><span class="dv">7</span>]</code></pre></div>
<pre><code>## [1] 8 9</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">b =<span class="st"> </span>i &gt;<span class="st"> </span><span class="dv">7</span>
b</code></pre></div>
<pre><code>## [1] FALSE FALSE FALSE  TRUE  TRUE</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">i[b]</code></pre></div>
<pre><code>## [1] 8 9</code></pre>
</div>
<div id="which" class="section level3">
<h3><span class="header-section-number">2.1.9</span> <code>which</code></h3>
<p>The <code>which</code> function returns indices that match a logical expression.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">i &lt;-<span class="st"> </span><span class="dv">11</span>:<span class="dv">20</span>
<span class="kw">which</span>(i &gt;<span class="st"> </span><span class="dv">12</span>)</code></pre></div>
<pre><code>## [1]  3  4  5  6  7  8  9 10</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">i[<span class="kw">which</span>(i &gt;<span class="st"> </span><span class="dv">12</span>)]</code></pre></div>
<pre><code>## [1] 13 14 15 16 17 18 19 20</code></pre>
</div>
<div id="sample" class="section level3">
<h3><span class="header-section-number">2.1.10</span> <code>sample</code></h3>
<p>The <code>sample</code> function will generate a random sample. Great to use for randomizing a vector.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">months &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;January&quot;</span>, <span class="st">&quot;February&quot;</span>, <span class="st">&quot;March&quot;</span>, <span class="st">&quot;April&quot;</span>
            , <span class="st">&quot;May&quot;</span>, <span class="st">&quot;June&quot;</span>, <span class="st">&quot;July&quot;</span>, <span class="st">&quot;August&quot;</span>
            , <span class="st">&quot;September&quot;</span>, <span class="st">&quot;October&quot;</span>, <span class="st">&quot;November&quot;</span>, <span class="st">&quot;December&quot;</span>)

<span class="kw">set.seed</span>(<span class="dv">1234</span>)
mixedMonths &lt;-<span class="st"> </span><span class="kw">sample</span>(months)
<span class="kw">head</span>(mixedMonths)</code></pre></div>
<pre><code>## [1] &quot;February&quot; &quot;July&quot;     &quot;November&quot; &quot;June&quot;     &quot;October&quot;  &quot;May&quot;</code></pre>
<p>Get lots of months with the <code>size</code> parameter:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">set.seed</span>(<span class="dv">1234</span>)
lotsOfMonths &lt;-<span class="st"> </span><span class="kw">sample</span>(months, <span class="dt">size =</span> <span class="dv">100</span>, <span class="dt">replace =</span> <span class="ot">TRUE</span>)
<span class="kw">head</span>(lotsOfMonths)</code></pre></div>
<pre><code>## [1] &quot;February&quot; &quot;August&quot;   &quot;August&quot;   &quot;August&quot;   &quot;November&quot; &quot;August&quot;</code></pre>
</div>
<div id="sample-ii" class="section level3">
<h3><span class="header-section-number">2.1.11</span> <code>sample</code> II</h3>
<p>Sample may also be used within the indexing of the vector itself:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">set.seed</span>(<span class="dv">1234</span>)
moreMonths &lt;-<span class="st"> </span>months[<span class="kw">sample</span>(<span class="dv">1</span>:<span class="dv">12</span>, <span class="dt">replace=</span><span class="ot">TRUE</span>, <span class="dt">size=</span><span class="dv">100</span>)]
<span class="kw">head</span>(moreMonths)</code></pre></div>
<pre><code>## [1] &quot;February&quot; &quot;August&quot;   &quot;August&quot;   &quot;August&quot;   &quot;November&quot; &quot;August&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Cleaner with sample.int</span>
<span class="kw">set.seed</span>(<span class="dv">1234</span>)
evenMoreMonths &lt;-<span class="st"> </span>months[<span class="kw">sample.int</span>(<span class="kw">length</span>(months), <span class="dt">size=</span><span class="dv">100</span>, <span class="dt">replace=</span><span class="ot">TRUE</span>)]
<span class="kw">head</span>(evenMoreMonths)</code></pre></div>
<pre><code>## [1] &quot;February&quot; &quot;August&quot;   &quot;August&quot;   &quot;August&quot;   &quot;November&quot; &quot;August&quot;</code></pre>
</div>
<div id="order" class="section level3">
<h3><span class="header-section-number">2.1.12</span> <code>order</code></h3>
<p>The function <code>order</code> will return the indices of the vector in order.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">set.seed</span>(<span class="dv">1234</span>)
x &lt;-<span class="st"> </span><span class="kw">sample</span>(<span class="dv">1</span>:<span class="dv">10</span>)
x</code></pre></div>
<pre><code>##  [1]  2  6  5  8  9  4  1  7 10  3</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">order</span>(x)</code></pre></div>
<pre><code>##  [1]  7  1 10  6  3  2  8  4  5  9</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">x[<span class="kw">order</span>(x)]</code></pre></div>
<pre><code>##  [1]  1  2  3  4  5  6  7  8  9 10</code></pre>
</div>
<div id="vector-arithmetic" class="section level3">
<h3><span class="header-section-number">2.1.13</span> Vector arithmetic</h3>
<p>Vectors may be used in arithmetic operations.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">B0 &lt;-<span class="st"> </span><span class="dv">5</span>
B1 &lt;-<span class="st"> </span><span class="fl">1.5</span>

<span class="kw">set.seed</span>(<span class="dv">1234</span>)

e &lt;-<span class="st"> </span><span class="kw">rnorm</span>(N, <span class="dt">mean =</span> <span class="dv">0</span>, <span class="dt">sd =</span> <span class="dv">1</span>)
X1 &lt;-<span class="st"> </span><span class="kw">rep</span>(<span class="kw">seq</span>(<span class="dv">1</span>,<span class="dv">10</span>),<span class="dv">10</span>)

Y &lt;-<span class="st"> </span>B0 +<span class="st"> </span>B1 *<span class="st"> </span>X1 +<span class="st"> </span>e</code></pre></div>
<p>Y is now a vector with length equal to the longest vector used in the calculation.</p>
<p>Question: B0 and B1 are vectors of length 1.</p>
<p>X1 and e are vectors of length 100.</p>
<p>How are they combined?</p>
</div>
<div id="recycling" class="section level3">
<h3><span class="header-section-number">2.1.14</span> Recycling</h3>
<p>R will “recycle” vectors until there are enough elements to perform an operation. Everything gets as “long” as the longest vector in the operation. For scalar operations on a vector this doesn’t involve any drama. Try the following code:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">vector1 =<span class="st"> </span><span class="dv">1</span>:<span class="dv">10</span>
vector2 =<span class="st"> </span><span class="dv">1</span>:<span class="dv">5</span>
scalar =<span class="st"> </span><span class="dv">3</span>

<span class="kw">print</span>(vector1 +<span class="st"> </span>scalar)</code></pre></div>
<pre><code>##  [1]  4  5  6  7  8  9 10 11 12 13</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">print</span>(vector2 +<span class="st"> </span>scalar)</code></pre></div>
<pre><code>## [1] 4 5 6 7 8</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">print</span>(vector1 +<span class="st"> </span>vector2)</code></pre></div>
<pre><code>##  [1]  2  4  6  8 10  7  9 11 13 15</code></pre>
</div>
<div id="set-theory---part-i" class="section level3">
<h3><span class="header-section-number">2.1.15</span> Set theory - Part I</h3>
<p>The <code>%in%</code> operator will return a logical vector indicating whether or not an element of the first set is contained in the second set.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">x &lt;-<span class="st"> </span><span class="dv">1</span>:<span class="dv">10</span>
y &lt;-<span class="st"> </span><span class="dv">5</span>:<span class="dv">15</span>
x %in%<span class="st"> </span>y</code></pre></div>
<pre><code>##  [1] FALSE FALSE FALSE FALSE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE</code></pre>
</div>
<div id="set-theory---part-ii" class="section level3">
<h3><span class="header-section-number">2.1.16</span> Set theory - Part II</h3>
<ul>
<li><code>union</code></li>
<li><code>intersect</code></li>
<li><code>setdiff</code></li>
<li><code>setequal</code></li>
<li><code>is.element</code></li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">?union</code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">x &lt;-<span class="st"> </span><span class="dv">1900</span>:<span class="dv">1910</span>
y &lt;-<span class="st"> </span><span class="dv">1905</span>:<span class="dv">1915</span>
<span class="kw">intersect</span>(x, y)</code></pre></div>
<pre><code>## [1] 1905 1906 1907 1908 1909 1910</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">setdiff</span>(x, y)</code></pre></div>
<pre><code>## [1] 1900 1901 1902 1903 1904</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">setequal</span>(x, y)</code></pre></div>
<pre><code>## [1] FALSE</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">is.element</span>(<span class="dv">1941</span>, y)</code></pre></div>
<pre><code>## [1] FALSE</code></pre>
</div>
<div id="summarization" class="section level3">
<h3><span class="header-section-number">2.1.17</span> Summarization</h3>
<p>Loads of functions take vector input and return scalar output. Translation of a large set of numbers into a few, informative values is one of the cornerstones of statistics.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">x =<span class="st"> </span><span class="dv">1</span>:<span class="dv">50</span>
<span class="kw">sum</span>(x)
<span class="kw">mean</span>(x)
<span class="kw">max</span>(x)
<span class="kw">length</span>(x)
<span class="kw">var</span>(x)</code></pre></div>
</div>
<div id="vectors" class="section level3">
<h3><span class="header-section-number">2.1.18</span> Vectors</h3>
<p>Vectors are like atoms. If you understand vectors- how to create them, how to manipulate them, how to access the elements, you’re well on your way to grasping how to handle other objects in R.</p>
<p>Vectors may combine to form molecules, but fundamentally, <em>everything</em> in R is a vector.</p>
</div>
</div>
<div id="from-data" class="section level2">
<h2><span class="header-section-number">2.2</span> From data</h2>
<ul>
<li>Data types</li>
<li>From vectors to matrices and lists</li>
</ul>
<div id="data-types" class="section level3">
<h3><span class="header-section-number">2.2.1</span> Data types</h3>
<ul>
<li>logical</li>
<li>integer</li>
<li>double</li>
<li>character</li>
</ul>
</div>
<div id="what-is-it" class="section level3">
<h3><span class="header-section-number">2.2.2</span> What is it?</h3>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">x &lt;-<span class="st"> </span><span class="dv">6</span>
y &lt;-<span class="st"> </span>6L
z &lt;-<span class="st"> </span><span class="ot">TRUE</span>
<span class="kw">typeof</span>(x)</code></pre></div>
<pre><code>## [1] &quot;double&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">typeof</span>(y)</code></pre></div>
<pre><code>## [1] &quot;integer&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">typeof</span>(z)</code></pre></div>
<pre><code>## [1] &quot;logical&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">is.logical</span>(x)</code></pre></div>
<pre><code>## [1] FALSE</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">is.double</span>(x)</code></pre></div>
<pre><code>## [1] TRUE</code></pre>
</div>
<div id="data-conversion" class="section level3">
<h3><span class="header-section-number">2.2.3</span> Data conversion</h3>
<p>Most conversion is implicit. For explicit conversion, use the <code>as.*</code> functions.</p>
<p>Implicit conversion alters everything to the most complex form of data present as follows:</p>
<p>logical -&gt; integer -&gt; double -&gt; character</p>
<p>Explicit conversion usually implies truncation and loss of information.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Implicit conversion</span>
w &lt;-<span class="st"> </span><span class="ot">TRUE</span>
x &lt;-<span class="st"> </span>4L
y &lt;-<span class="st"> </span><span class="fl">5.8</span>
z &lt;-<span class="st"> </span>w +<span class="st"> </span>x +<span class="st"> </span>y
<span class="kw">typeof</span>(z)</code></pre></div>
<pre><code>## [1] &quot;double&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Explicit conversion. Note loss of data.</span>
<span class="kw">as.integer</span>(z)</code></pre></div>
<pre><code>## [1] 10</code></pre>
</div>
<div id="class" class="section level3">
<h3><span class="header-section-number">2.2.4</span> Class</h3>
<p>A class is an extension of the basic data types. We’ll see many examples of these. The class of a basic type will be equal to its type apart from ‘double’, whose class is ‘numeric’ for reasons I don’t pretend to understand.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">class</span>(<span class="ot">TRUE</span>)</code></pre></div>
<pre><code>## [1] &quot;logical&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">class</span>(pi)</code></pre></div>
<pre><code>## [1] &quot;numeric&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">class</span>(4L)</code></pre></div>
<pre><code>## [1] &quot;integer&quot;</code></pre>
<p>The type and class of a vector is returned as a scalar. Remember a vector is a set of elements which all have the same type.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">class</span>(<span class="dv">1</span>:<span class="dv">4</span>)</code></pre></div>
<pre><code>## [1] &quot;integer&quot;</code></pre>
</div>
<div id="mode" class="section level3">
<h3><span class="header-section-number">2.2.5</span> Mode</h3>
<p>There is also a function called ‘mode’ which looks tempting. Ignore it.</p>
</div>
<div id="dates-and-times" class="section level3">
<h3><span class="header-section-number">2.2.6</span> Dates and times</h3>
<p>Dates in R can be tricky. Two basic classes: <code>Date</code> and <code>POSIXt</code>. The <code>Date</code> class does not get more granular than days. The <code>POSIXt</code> class can handle seconds, milliseconds, etc.</p>
<p>My recommendation is to stick with the “Date” class. Introducing times means introducing time zones and possibility for confusion or error. Actuaries rarely need to measure things in minutes.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">x &lt;-<span class="st"> </span><span class="kw">as.Date</span>(<span class="st">&#39;2010-01-01&#39;</span>)
<span class="kw">class</span>(x)</code></pre></div>
<pre><code>## [1] &quot;Date&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">typeof</span>(x)</code></pre></div>
<pre><code>## [1] &quot;double&quot;</code></pre>
</div>
<div id="more-on-dates" class="section level3">
<h3><span class="header-section-number">2.2.7</span> More on dates</h3>
<p>The default behavior for dates is that they don’t follow US conventions.</p>
<p>Don’t do this:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">x &lt;-<span class="st"> </span><span class="kw">as.Date</span>(<span class="st">&#39;06-30-2010&#39;</span>)</code></pre></div>
<pre><code>## Error in charToDate(x): character string is not in a standard unambiguous format</code></pre>
<p>But this is just fine:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">x &lt;-<span class="st"> </span><span class="kw">as.Date</span>(<span class="st">&#39;30-06-2010&#39;</span>)</code></pre></div>
<p>If you want to preserve your sanity, stick with year, month, day.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">x &lt;-<span class="st"> </span><span class="kw">as.Date</span>(<span class="st">&#39;2010-06-30&#39;</span>)</code></pre></div>
</div>
<div id="what-day-is-it" class="section level3">
<h3><span class="header-section-number">2.2.8</span> What day is it?</h3>
<p>To get the date and time of the computer, use the either <code>Sys.Date()</code> or <code>Sys.time()</code>. Note that <code>Sys.time()</code> will return both the day AND the time as a POSIXct object.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">x &lt;-<span class="st"> </span><span class="kw">Sys.Date</span>()
y &lt;-<span class="st"> </span><span class="kw">Sys.time</span>()</code></pre></div>
</div>
<div id="more-reading-on-dates" class="section level3">
<h3><span class="header-section-number">2.2.9</span> More reading on dates</h3>
<p>Worth reading the documentation about dates. Measuring time periods is a common task for actuaries. It’s easy to make huge mistakes by getting dates wrong.</p>
<p>The <code>lubridate</code> package has some nice convenience functions for setting month and day and reasoning about time periods. It also enables you to deal with time zones, leap days and leap seconds. Probably more than you need.</p>
<p><code>mondate</code> was written by an actuary and supports (among other things) handling time periods in terms of months.</p>
<ul>
<li><a href="https://stat.ethz.ch/R-manual/R-devel/library/base/html/Dates.html">Date class</a></li>
<li><a href="http://www.jstatsoft.org/v40/i03/paper">lubridate</a></li>
<li><a href="http://www.r-project.org/doc/Rnews/Rnews_2001-2.pdf">Ripley and Hornik</a></li>
<li><a href="https://code.google.com/p/mondate/">mondate</a></li>
</ul>
</div>
<div id="factors" class="section level3">
<h3><span class="header-section-number">2.2.10</span> Factors</h3>
<p>Another gotcha. Factors were necessary many years ago when data collection and storage were expensive. A factor is a mapping of a character string to an integer. Particularly when importing data, R often wants to convert character values into a factor. You will often want to convert a factor into a string.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">myColors &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Red&quot;</span>, <span class="st">&quot;Blue&quot;</span>, <span class="st">&quot;Green&quot;</span>, <span class="st">&quot;Red&quot;</span>, <span class="st">&quot;Blue&quot;</span>, <span class="st">&quot;Red&quot;</span>)
myFactor &lt;-<span class="st"> </span><span class="kw">factor</span>(myColors)
<span class="kw">typeof</span>(myFactor)</code></pre></div>
<pre><code>## [1] &quot;integer&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">class</span>(myFactor)</code></pre></div>
<pre><code>## [1] &quot;factor&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">is.character</span>(myFactor)</code></pre></div>
<pre><code>## [1] FALSE</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">is.character</span>(myColors)</code></pre></div>
<pre><code>## [1] TRUE</code></pre>
</div>
<div id="altering-factors" class="section level3">
<h3><span class="header-section-number">2.2.11</span> Altering factors</h3>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># This probably won&#39;t give you what you expect</span>
myOtherFactor &lt;-<span class="st"> </span><span class="kw">c</span>(myFactor, <span class="st">&quot;Orange&quot;</span>)
myOtherFactor</code></pre></div>
<pre><code>## [1] &quot;3&quot;      &quot;1&quot;      &quot;2&quot;      &quot;3&quot;      &quot;1&quot;      &quot;3&quot;      &quot;Orange&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># And this will give you an error</span>
myFactor[<span class="kw">length</span>(myFactor)+<span class="dv">1</span>] &lt;-<span class="st"> &quot;Orange&quot;</span></code></pre></div>
<pre><code>## Warning in `[&lt;-.factor`(`*tmp*`, length(myFactor) + 1, value = &quot;Orange&quot;):
## invalid factor level, NA generated</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Must do things in two steps</span>
myOtherFactor &lt;-<span class="st"> </span><span class="kw">factor</span>(<span class="kw">c</span>(<span class="kw">levels</span>(myFactor), <span class="st">&quot;Orange&quot;</span>))
myOtherFactor[<span class="kw">length</span>(myOtherFactor)+<span class="dv">1</span>] &lt;-<span class="st"> &quot;Orange&quot;</span></code></pre></div>
</div>
<div id="avoid-factors" class="section level3">
<h3><span class="header-section-number">2.2.12</span> Avoid factors</h3>
<p>Now that you know what they are, you can spend the next few months avoiding factors. When R was created, there were compelling reasons to include factors and they still have some utility. More often than not, though, they’re a confusing hindrance.</p>
<p>If characters aren’t behaving the way you expect them to, check the variables with <code>is.factor</code>. Convert them with <code>as.character</code> and you’ll be back on the road to happiness.</p>
</div>
</div>
<div id="exercises" class="section level2">
<h2><span class="header-section-number">2.3</span> Exercises</h2>
<ul>
<li>Create a logical, integer, double and character variable.</li>
<li>Can you create a vector with both logical and character values?</li>
<li>What happens when you try to add a logical to an integer? An integer to a double?</li>
</ul>
<div id="answers" class="section level3">
<h3><span class="header-section-number">2.3.1</span> Answers</h3>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">myLogical &lt;-<span class="st"> </span><span class="ot">TRUE</span>
myInteger &lt;-<span class="st"> </span><span class="dv">1</span>:<span class="dv">4</span>
myDouble &lt;-<span class="st"> </span><span class="fl">3.14</span>
myCharacter &lt;-<span class="st"> &quot;Hello!&quot;</span>

y &lt;-<span class="st"> </span>myLogical +<span class="st"> </span>myInteger
<span class="kw">typeof</span>(y)</code></pre></div>
<pre><code>## [1] &quot;integer&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">y &lt;-<span class="st"> </span>myInteger +<span class="st"> </span>myDouble
<span class="kw">typeof</span>(y)</code></pre></div>
<pre><code>## [1] &quot;double&quot;</code></pre>
</div>
<div id="from-vectors-to-matrices-and-lists" class="section level3">
<h3><span class="header-section-number">2.3.2</span> From vectors to matrices and lists</h3>
<p>A matrix is a vector with higher dimensions.</p>
<p>A list has both higher dimensions, but also different data types.</p>
</div>
<div id="a-matrix" class="section level3">
<h3><span class="header-section-number">2.3.3</span> A matrix</h3>
<p>Two ways to construct:</p>
<ol style="list-style-type: decimal">
<li>Use the <code>matrix</code> function.</li>
<li>Change the dimensions of a <code>vector</code>.</li>
</ol>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">myVector &lt;-<span class="st"> </span><span class="dv">1</span>:<span class="dv">100</span>
myMatrix &lt;-<span class="st"> </span><span class="kw">matrix</span>(myVector, <span class="dt">nrow=</span><span class="dv">10</span>, <span class="dt">ncol=</span><span class="dv">10</span>)

myOtherMatrix &lt;-<span class="st"> </span>myVector
<span class="kw">dim</span>(myOtherMatrix) &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">10</span>,<span class="dv">10</span>)

<span class="kw">identical</span>(myMatrix, myOtherMatrix)</code></pre></div>
<pre><code>## [1] TRUE</code></pre>
</div>
<div id="section" class="section level3">
<h3><span class="header-section-number">2.3.4</span> </h3>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">myMatrix &lt;-<span class="st"> </span><span class="kw">matrix</span>(<span class="dt">nrow=</span><span class="dv">10</span>, <span class="dt">ncol=</span><span class="dv">10</span>)</code></pre></div>
<p><img src="raw_files/figure-html/unnamed-chunk-44-1.png" width="672" /></p>
</div>
<div id="section-1" class="section level3">
<h3><span class="header-section-number">2.3.5</span> </h3>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">dim</span>(myMatrix) &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">25</span>, <span class="dv">4</span>)</code></pre></div>
<p><img src="raw_files/figure-html/unnamed-chunk-46-1.png" width="672" /></p>
</div>
<div id="matrix-metadata" class="section level3">
<h3><span class="header-section-number">2.3.6</span> Matrix metadata</h3>
<p>Possible to add metadata. This is typically a name for the columns or rows.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">myMatrix &lt;-<span class="st"> </span><span class="kw">matrix</span>(<span class="dt">nrow=</span><span class="dv">10</span>, <span class="dt">ncol=</span><span class="dv">10</span>, <span class="dt">data =</span> <span class="kw">sample</span>(<span class="dv">1</span>:<span class="dv">100</span>))
<span class="kw">colnames</span>(myMatrix) &lt;-<span class="st"> </span>letters[<span class="dv">1</span>:<span class="dv">10</span>]
<span class="kw">head</span>(myMatrix, <span class="dv">3</span>)</code></pre></div>
<pre><code>##       a  b  c  d  e  f  g  h  i  j
## [1,] 70 96 37 39  5 51 60 55 43 13
## [2,] 54 94 21 84 73  3 35 34 92 26
## [3,] 28 14 24 91 67 62 61 36 65 17</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">rownames</span>(myMatrix) &lt;-<span class="st"> </span><span class="kw">tail</span>(letters, <span class="dv">10</span>)
<span class="kw">head</span>(myMatrix, <span class="dv">3</span>)</code></pre></div>
<pre><code>##    a  b  c  d  e  f  g  h  i  j
## q 70 96 37 39  5 51 60 55 43 13
## r 54 94 21 84 73  3 35 34 92 26
## s 28 14 24 91 67 62 61 36 65 17</code></pre>
</div>
<div id="data-access-for-a-matrix" class="section level3">
<h3><span class="header-section-number">2.3.7</span> Data access for a matrix</h3>
<p>Matrix access is similar to vector, but with additional dimensions. For two-dimensional matrices, the order is row first, then column.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">myMatrix[<span class="dv">2</span>, ]</code></pre></div>
<pre><code>##  a  b  c  d  e  f  g  h  i  j 
## 54 94 21 84 73  3 35 34 92 26</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">myMatrix[, <span class="dv">2</span>]</code></pre></div>
<pre><code>##  q  r  s  t  u  v  w  x  y  z 
## 96 94 14  4 19 69 45 76 85 87</code></pre>
</div>
<div id="data-access-continued" class="section level3">
<h3><span class="header-section-number">2.3.8</span> Data access continued</h3>
<p>Single index will return values by indexing along only one dimension.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">myMatrix[<span class="dv">2</span>]</code></pre></div>
<pre><code>## [1] 54</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">myMatrix[<span class="dv">22</span>]</code></pre></div>
<pre><code>## [1] 21</code></pre>
</div>
<div id="matrix-summary" class="section level3">
<h3><span class="header-section-number">2.3.9</span> Matrix summary</h3>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">sum</span>(myMatrix)</code></pre></div>
<pre><code>## [1] 5050</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">colSums</span>(myMatrix)</code></pre></div>
<pre><code>##   a   b   c   d   e   f   g   h   i   j 
## 443 589 498 495 589 436 617 418 525 440</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">rowSums</span>(myMatrix)</code></pre></div>
<pre><code>##   q   r   s   t   u   v   w   x   y   z 
## 469 516 465 534 354 551 540 490 445 686</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">colMeans</span>(myMatrix)</code></pre></div>
<pre><code>##    a    b    c    d    e    f    g    h    i    j 
## 44.3 58.9 49.8 49.5 58.9 43.6 61.7 41.8 52.5 44.0</code></pre>
</div>
<div id="more-than-two-dimensions" class="section level3">
<h3><span class="header-section-number">2.3.10</span> More than two dimensions</h3>
<p>Like more than two dimensions? Shine on you crazy diamond.</p>
</div>
</div>
<div id="exercises-1" class="section level2">
<h2><span class="header-section-number">2.4</span> Exercises</h2>
<p>Create a vector of length 10, with years starting from 1980.</p>
<p>Create a vector with values from 1972 to 2012 in increments of four (1972, 1976, 1980, etc.)</p>
<p>Construct the following vectors (feel free to use the <code>VectorQuestion.R</code> script):</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">FirstName &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Richard&quot;</span>, <span class="st">&quot;James&quot;</span>, <span class="st">&quot;Ronald&quot;</span>, <span class="st">&quot;Ronald&quot;</span>
              , <span class="st">&quot;George&quot;</span>, <span class="st">&quot;William&quot;</span>, <span class="st">&quot;William&quot;</span>, <span class="st">&quot;George&quot;</span>
              , <span class="st">&quot;George&quot;</span>, <span class="st">&quot;Barack&quot;</span>, <span class="st">&quot;Barack&quot;</span>)
LastName &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Nixon&quot;</span>, <span class="st">&quot;Carter&quot;</span>, <span class="st">&quot;Reagan&quot;</span>, <span class="st">&quot;Reagan&quot;</span>
              , <span class="st">&quot;Bush&quot;</span>, <span class="st">&quot;Clinton&quot;</span>, <span class="st">&quot;Clinton&quot;</span>, <span class="st">&quot;Bush&quot;</span>
              , <span class="st">&quot;Bush&quot;</span>, <span class="st">&quot;Obama&quot;</span>, <span class="st">&quot;Obama&quot;</span>)
ElectionYear &lt;-<span class="st"> </span><span class="kw">seq</span>(<span class="dv">1972</span>, <span class="dv">2012</span>, <span class="dv">4</span>)</code></pre></div>
<ul>
<li>List the last names in alphabetical order</li>
<li>List the years in order by first name.</li>
<li>Create a vector of years when someone named “George” was elected.</li>
<li>How many Georges were elected before 1996?</li>
<li>Generate a random sample of 100 presidents.</li>
</ul>
</div>
<div id="answers-1" class="section level2">
<h2><span class="header-section-number">2.5</span> Answers</h2>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">LastName[<span class="kw">order</span>(LastName)]</code></pre></div>
<pre><code>##  [1] &quot;Bush&quot;    &quot;Bush&quot;    &quot;Bush&quot;    &quot;Carter&quot;  &quot;Clinton&quot; &quot;Clinton&quot; &quot;Nixon&quot;  
##  [8] &quot;Obama&quot;   &quot;Obama&quot;   &quot;Reagan&quot;  &quot;Reagan&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">ElectionYear[<span class="kw">order</span>(FirstName)]</code></pre></div>
<pre><code>##  [1] 2008 2012 1988 2000 2004 1976 1972 1980 1984 1992 1996</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">ElectionYear[FirstName ==<span class="st"> &#39;George&#39;</span>]</code></pre></div>
<pre><code>## [1] 1988 2000 2004</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">myLogical &lt;-<span class="st"> </span>(FirstName ==<span class="st"> &#39;George&#39;</span>) &amp;<span class="st"> </span>(ElectionYear &lt;<span class="st"> </span><span class="dv">1996</span>)
<span class="kw">length</span>(<span class="kw">which</span>(myLogical))</code></pre></div>
<pre><code>## [1] 1</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">sum</span>(myLogical)</code></pre></div>
<pre><code>## [1] 1</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">sample</span>(LastName, <span class="dv">100</span>, <span class="dt">replace =</span> <span class="ot">TRUE</span>)</code></pre></div>
<pre><code>##   [1] &quot;Bush&quot;    &quot;Carter&quot;  &quot;Obama&quot;   &quot;Carter&quot;  &quot;Reagan&quot;  &quot;Obama&quot;   &quot;Obama&quot;  
##   [8] &quot;Reagan&quot;  &quot;Carter&quot;  &quot;Bush&quot;    &quot;Bush&quot;    &quot;Obama&quot;   &quot;Obama&quot;   &quot;Obama&quot;  
##  [15] &quot;Clinton&quot; &quot;Reagan&quot;  &quot;Reagan&quot;  &quot;Clinton&quot; &quot;Clinton&quot; &quot;Reagan&quot;  &quot;Obama&quot;  
##  [22] &quot;Clinton&quot; &quot;Carter&quot;  &quot;Bush&quot;    &quot;Obama&quot;   &quot;Clinton&quot; &quot;Obama&quot;   &quot;Clinton&quot;
##  [29] &quot;Clinton&quot; &quot;Obama&quot;   &quot;Clinton&quot; &quot;Obama&quot;   &quot;Reagan&quot;  &quot;Clinton&quot; &quot;Reagan&quot; 
##  [36] &quot;Clinton&quot; &quot;Bush&quot;    &quot;Clinton&quot; &quot;Obama&quot;   &quot;Clinton&quot; &quot;Bush&quot;    &quot;Reagan&quot; 
##  [43] &quot;Nixon&quot;   &quot;Obama&quot;   &quot;Reagan&quot;  &quot;Obama&quot;   &quot;Clinton&quot; &quot;Obama&quot;   &quot;Bush&quot;   
##  [50] &quot;Clinton&quot; &quot;Bush&quot;    &quot;Clinton&quot; &quot;Bush&quot;    &quot;Reagan&quot;  &quot;Nixon&quot;   &quot;Bush&quot;   
##  [57] &quot;Bush&quot;    &quot;Nixon&quot;   &quot;Bush&quot;    &quot;Reagan&quot;  &quot;Bush&quot;    &quot;Clinton&quot; &quot;Bush&quot;   
##  [64] &quot;Bush&quot;    &quot;Reagan&quot;  &quot;Bush&quot;    &quot;Bush&quot;    &quot;Clinton&quot; &quot;Carter&quot;  &quot;Reagan&quot; 
##  [71] &quot;Clinton&quot; &quot;Reagan&quot;  &quot;Clinton&quot; &quot;Nixon&quot;   &quot;Obama&quot;   &quot;Nixon&quot;   &quot;Obama&quot;  
##  [78] &quot;Clinton&quot; &quot;Reagan&quot;  &quot;Bush&quot;    &quot;Bush&quot;    &quot;Obama&quot;   &quot;Carter&quot;  &quot;Obama&quot;  
##  [85] &quot;Bush&quot;    &quot;Obama&quot;   &quot;Obama&quot;   &quot;Bush&quot;    &quot;Obama&quot;   &quot;Bush&quot;    &quot;Bush&quot;   
##  [92] &quot;Clinton&quot; &quot;Reagan&quot;  &quot;Bush&quot;    &quot;Clinton&quot; &quot;Bush&quot;    &quot;Reagan&quot;  &quot;Bush&quot;   
##  [99] &quot;Reagan&quot;  &quot;Obama&quot;</code></pre>
<div id="next" class="section level3">
<h3><span class="header-section-number">2.5.1</span> Next</h3>
<p>Having sorted out vectors, we’re next going to turn out attention to lists. Lists are similar to vectors in that they enable us to bundle large amounts of data in a single construct. However, they’re far more flexible and require a bit more thought.</p>

<div id="refs" class="references">

</div>
</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="data.html" class="navigation navigation-prev navigation-unique" aria-label="Previous page"><i class="fa fa-angle-left"></i></a>


<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"facebook": true,
"twitter": true,
"google": false,
"weibo": false,
"instapper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/PirateGrunt/raw_book/edit/master/30_Vectors.Rmd",
"text": null
},
"download": ["raw.pdf"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
