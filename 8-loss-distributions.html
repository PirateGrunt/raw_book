<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta property="og:title" content="raw - R Actuarial Workshops" />
<meta property="og:type" content="book" />


<meta property="og:description" content="This is a companion to actuarial workshops." />
<meta name="github-repo" content="PirateGrunt/raw_book" />

<meta name="author" content="Brian A. Fannin, ACAS" />

<meta name="date" content="2016-07-13" />

<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  TeX: { equationNumbers: { autoNumber: "AMS" } }
});
</script>
  <script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_CHTML-full" type="text/javascript"></script>

<meta name="description" content="This is a companion to actuarial workshops.">

<title>raw - R Actuarial Workshops</title>

<script src="libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="libs/bootstrap-3.3.5/css/united.min.css" rel="stylesheet" />
<script src="libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="libs/bootstrap-3.3.5/shim/respond.min.js"></script>


<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>



<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
  height: auto;
}
</style>
</head>

<body>

<div class="container-fluid main-container">


<div class="row">
<div class="col-sm-12">
<div id="TOC">
<ul>
<li class="has-sub"><a href="index.html#introduction"><span class="toc-section-number">1</span> Introduction</a><ul>
<li><a href="1-1-why-does-this-book-exist.html#why-does-this-book-exist"><span class="toc-section-number">1.1</span> Why does this book exist?</a></li>
<li><a href="1-2-who-should-use-this.html#who-should-use-this"><span class="toc-section-number">1.2</span> Who should use this?</a></li>
<li><a href="1-3-other-stuff.html#other-stuff"><span class="toc-section-number">1.3</span> Other stuff</a></li>
</ul></li>
<li class="has-sub"><a href="2-setup.html#setup"><span class="toc-section-number">2</span> Setup</a><ul>
<li class="has-sub"><a href="2-1-installation.html#installation"><span class="toc-section-number">2.1</span> Installation</a><ul>
<li><a href="2-1-installation.html#it"><span class="toc-section-number">2.1.1</span> IT</a></li>
</ul></li>
<li class="has-sub"><a href="2-2-the-operating-environment.html#the-operating-environment"><span class="toc-section-number">2.2</span> The Operating Environment</a><ul>
<li><a href="2-2-the-operating-environment.html#command-line-interface"><span class="toc-section-number">2.2.1</span> Command-line interface</a></li>
</ul></li>
<li><a href="2-3-entering-commands.html#entering-commands"><span class="toc-section-number">2.3</span> Entering Commands</a></li>
</ul></li>
<li class="has-sub"><a href="3-getting-started.html#getting-started"><span class="toc-section-number">3</span> Getting started</a><ul>
<li><a href="3-getting-started.html#mathematical-operators"><span class="toc-section-number">3.0.1</span> Mathematical Operators</a></li>
<li><a href="3-getting-started.html#logical-operators"><span class="toc-section-number">3.0.2</span> Logical Operators</a></li>
<li><a href="3-getting-started.html#assignment"><span class="toc-section-number">3.0.3</span> Assignment</a></li>
<li><a href="3-getting-started.html#functions"><span class="toc-section-number">3.0.4</span> Functions</a></li>
<li><a href="3-getting-started.html#a-few-mathematical-functions"><span class="toc-section-number">3.0.5</span> A few mathematical functions</a></li>
<li><a href="3-1-getting-help.html#getting-help"><span class="toc-section-number">3.1</span> Getting help</a></li>
<li class="has-sub"><a href="3-2-the-working-directory.html#the-working-directory"><span class="toc-section-number">3.2</span> The working directory</a><ul>
<li><a href="3-2-the-working-directory.html#directory-paths"><span class="toc-section-number">3.2.1</span> Directory paths</a></li>
<li><a href="3-2-the-working-directory.html#source-files"><span class="toc-section-number">3.2.2</span> Source files</a></li>
</ul></li>
<li class="has-sub"><a href="3-3-your-first-script.html#your-first-script"><span class="toc-section-number">3.3</span> Your first script</a><ul>
<li><a href="3-3-your-first-script.html#executing-a-script"><span class="toc-section-number">3.3.1</span> Executing a script</a></li>
<li><a href="3-3-your-first-script.html#comments"><span class="toc-section-number">3.3.2</span> Comments</a></li>
</ul></li>
<li><a href="3-4-quiz.html#quiz"><span class="toc-section-number">3.4</span> Quiz</a></li>
</ul></li>
<li class="has-sub"><a href="4-vectors.html#vectors"><span class="toc-section-number">4</span> Vectors</a><ul>
<li class="has-sub"><a href="4-1-what-is-a-vector.html#what-is-a-vector"><span class="toc-section-number">4.1</span> What is a vector?</a><ul>
<li><a href="4-1-what-is-a-vector.html#vector-properties"><span class="toc-section-number">4.1.1</span> Vector properties</a></li>
<li><a href="4-1-what-is-a-vector.html#vector-construction"><span class="toc-section-number">4.1.2</span> Vector construction</a></li>
<li><a href="4-1-what-is-a-vector.html#seq"><span class="toc-section-number">4.1.3</span> <code>seq</code></a></li>
<li><a href="4-1-what-is-a-vector.html#rep"><span class="toc-section-number">4.1.4</span> <code>rep</code></a></li>
<li><a href="4-1-what-is-a-vector.html#concatenation"><span class="toc-section-number">4.1.5</span> Concatenation</a></li>
<li><a href="4-1-what-is-a-vector.html#growth-by-assignment"><span class="toc-section-number">4.1.6</span> Growth by assignment</a></li>
<li><a href="4-1-what-is-a-vector.html#vector-access---by-index"><span class="toc-section-number">4.1.7</span> Vector access - by index</a></li>
<li><a href="4-1-what-is-a-vector.html#vector-access---logical-access"><span class="toc-section-number">4.1.8</span> Vector access - logical access</a></li>
<li><a href="4-1-what-is-a-vector.html#which"><span class="toc-section-number">4.1.9</span> <code>which</code></a></li>
<li><a href="4-1-what-is-a-vector.html#sample"><span class="toc-section-number">4.1.10</span> <code>sample</code></a></li>
<li><a href="4-1-what-is-a-vector.html#sample-ii"><span class="toc-section-number">4.1.11</span> <code>sample</code> II</a></li>
<li><a href="4-1-what-is-a-vector.html#order"><span class="toc-section-number">4.1.12</span> <code>order</code></a></li>
<li><a href="4-1-what-is-a-vector.html#vector-arithmetic"><span class="toc-section-number">4.1.13</span> Vector arithmetic</a></li>
<li><a href="4-1-what-is-a-vector.html#recycling"><span class="toc-section-number">4.1.14</span> Recycling</a></li>
<li><a href="4-1-what-is-a-vector.html#set-theory---part-i"><span class="toc-section-number">4.1.15</span> Set theory - Part I</a></li>
<li><a href="4-1-what-is-a-vector.html#set-theory---part-ii"><span class="toc-section-number">4.1.16</span> Set theory - Part II</a></li>
<li><a href="4-1-what-is-a-vector.html#summarization"><span class="toc-section-number">4.1.17</span> Summarization</a></li>
<li><a href="4-1-what-is-a-vector.html#vectors-1"><span class="toc-section-number">4.1.18</span> Vectors</a></li>
</ul></li>
<li class="has-sub"><a href="4-2-from-data.html#from-data"><span class="toc-section-number">4.2</span> From data</a><ul>
<li><a href="4-2-from-data.html#data-types"><span class="toc-section-number">4.2.1</span> Data types</a></li>
<li><a href="4-2-from-data.html#what-is-it"><span class="toc-section-number">4.2.2</span> What is it?</a></li>
<li><a href="4-2-from-data.html#data-conversion"><span class="toc-section-number">4.2.3</span> Data conversion</a></li>
<li><a href="4-2-from-data.html#class"><span class="toc-section-number">4.2.4</span> Class</a></li>
<li><a href="4-2-from-data.html#mode"><span class="toc-section-number">4.2.5</span> Mode</a></li>
<li><a href="4-2-from-data.html#dates-and-times"><span class="toc-section-number">4.2.6</span> Dates and times</a></li>
<li><a href="4-2-from-data.html#more-on-dates"><span class="toc-section-number">4.2.7</span> More on dates</a></li>
<li><a href="4-2-from-data.html#what-day-is-it"><span class="toc-section-number">4.2.8</span> What day is it?</a></li>
<li><a href="4-2-from-data.html#more-reading-on-dates"><span class="toc-section-number">4.2.9</span> More reading on dates</a></li>
<li><a href="4-2-from-data.html#factors"><span class="toc-section-number">4.2.10</span> Factors</a></li>
<li><a href="4-2-from-data.html#altering-factors"><span class="toc-section-number">4.2.11</span> Altering factors</a></li>
<li><a href="4-2-from-data.html#avoid-factors"><span class="toc-section-number">4.2.12</span> Avoid factors</a></li>
<li><a href="4-2-from-data.html#questions"><span class="toc-section-number">4.2.13</span> Questions</a></li>
<li><a href="4-2-from-data.html#answers"><span class="toc-section-number">4.2.14</span> Answers</a></li>
<li><a href="4-2-from-data.html#from-vectors-to-matrices-and-lists"><span class="toc-section-number">4.2.15</span> From vectors to matrices and lists</a></li>
<li><a href="4-2-from-data.html#a-matrix"><span class="toc-section-number">4.2.16</span> A matrix</a></li>
<li><a href="4-2-from-data.html#section"><span class="toc-section-number">4.2.17</span> </a></li>
<li><a href="4-2-from-data.html#section-1"><span class="toc-section-number">4.2.18</span> </a></li>
<li><a href="4-2-from-data.html#matrix-metadata"><span class="toc-section-number">4.2.19</span> Matrix metadata</a></li>
<li><a href="4-2-from-data.html#data-access-for-a-matrix"><span class="toc-section-number">4.2.20</span> Data access for a matrix</a></li>
<li><a href="4-2-from-data.html#data-access-continued"><span class="toc-section-number">4.2.21</span> Data access continued</a></li>
<li><a href="4-2-from-data.html#matrix-summary"><span class="toc-section-number">4.2.22</span> Matrix summary</a></li>
<li><a href="4-2-from-data.html#more-than-two-dimensions"><span class="toc-section-number">4.2.23</span> More than two dimensions</a></li>
</ul></li>
<li><a href="4-3-exercise.html#exercise"><span class="toc-section-number">4.3</span> Exercise</a></li>
<li class="has-sub"><a href="4-4-answers-1.html#answers-1"><span class="toc-section-number">4.4</span> Answers</a><ul>
<li><a href="4-4-answers-1.html#next"><span class="toc-section-number">4.4.1</span> Next</a></li>
</ul></li>
</ul></li>
<li class="has-sub"><a href="5-lists.html#lists"><span class="toc-section-number">5</span> Lists</a><ul>
<li><a href="5-lists.html#lists-1"><span class="toc-section-number">5.0.1</span> Lists</a></li>
<li><a href="5-lists.html#vs."><span class="toc-section-number">5.0.2</span> [ vs. [[</a></li>
<li><a href="5-lists.html#recursive-storage"><span class="toc-section-number">5.0.3</span> Recursive storage</a></li>
<li><a href="5-lists.html#list-metadata"><span class="toc-section-number">5.0.4</span> List metadata</a></li>
<li><a href="5-lists.html#lapply"><span class="toc-section-number">5.0.5</span> <code>lapply</code></a></li>
<li><a href="5-lists.html#why-lapply"><span class="toc-section-number">5.0.6</span> Why <code>lapply</code>?</a></li>
<li><a href="5-lists.html#summary-functions"><span class="toc-section-number">5.0.7</span> Summary functions</a></li>
<li><a href="5-1-questions-1.html#questions-1"><span class="toc-section-number">5.1</span> Questions</a></li>
<li><a href="5-2-answers-2.html#answers-2"><span class="toc-section-number">5.2</span> Answers</a></li>
</ul></li>
<li class="has-sub"><a href="6-data-frames.html#data-frames"><span class="toc-section-number">6</span> Data Frames</a><ul>
<li class="has-sub"><a href="6-1-whats-a-data-frame.html#whats-a-data-frame"><span class="toc-section-number">6.1</span> What’s a data frame?</a><ul>
<li><a href="6-1-whats-a-data-frame.html#creating-a-data-frame"><span class="toc-section-number">6.1.1</span> Creating a data frame</a></li>
<li><a href="6-1-whats-a-data-frame.html#basic-properties-of-a-data-frame"><span class="toc-section-number">6.1.2</span> Basic properties of a data frame</a></li>
<li><a href="6-1-whats-a-data-frame.html#referencing"><span class="toc-section-number">6.1.3</span> Referencing</a></li>
<li><a href="6-1-whats-a-data-frame.html#ordering"><span class="toc-section-number">6.1.4</span> Ordering</a></li>
<li><a href="6-1-whats-a-data-frame.html#altering-and-adding-columns"><span class="toc-section-number">6.1.5</span> Altering and adding columns</a></li>
<li><a href="6-1-whats-a-data-frame.html#eliminating-columns"><span class="toc-section-number">6.1.6</span> Eliminating columns</a></li>
<li><a href="6-1-whats-a-data-frame.html#rbind-cbind"><span class="toc-section-number">6.1.7</span> rbind, cbind</a></li>
<li><a href="6-1-whats-a-data-frame.html#merging"><span class="toc-section-number">6.1.8</span> Merging</a></li>
<li><a href="6-1-whats-a-data-frame.html#altering-column-names"><span class="toc-section-number">6.1.9</span> Altering column names</a></li>
<li><a href="6-1-whats-a-data-frame.html#subsetting---the-easy-way"><span class="toc-section-number">6.1.10</span> Subsetting - The easy way</a></li>
<li><a href="6-1-whats-a-data-frame.html#subsetting---the-hardish-way"><span class="toc-section-number">6.1.11</span> Subsetting - The hard(ish) way</a></li>
<li><a href="6-1-whats-a-data-frame.html#subsetting---yet-another-way"><span class="toc-section-number">6.1.12</span> Subsetting - Yet another way</a></li>
</ul></li>
<li class="has-sub"><a href="6-2-summarizing.html#summarizing"><span class="toc-section-number">6.2</span> Summarizing</a><ul>
<li><a href="6-2-summarizing.html#summarizing-visually---1"><span class="toc-section-number">6.2.1</span> Summarizing visually - 1</a></li>
<li><a href="6-2-summarizing.html#summarizing-visually---2"><span class="toc-section-number">6.2.2</span> Summarizing visually - 2</a></li>
<li><a href="6-2-summarizing.html#advanced-data-frame-tools"><span class="toc-section-number">6.2.3</span> Advanced data frame tools</a></li>
<li><a href="6-2-summarizing.html#reading-data"><span class="toc-section-number">6.2.4</span> Reading data</a></li>
<li><a href="6-2-summarizing.html#reading-from-excel"><span class="toc-section-number">6.2.5</span> Reading from Excel</a></li>
<li><a href="6-2-summarizing.html#reading-from-the-web---1"><span class="toc-section-number">6.2.6</span> Reading from the web - 1</a></li>
<li><a href="6-2-summarizing.html#reading-from-the-web---2"><span class="toc-section-number">6.2.7</span> Reading from the web - 2</a></li>
<li><a href="6-2-summarizing.html#reading-from-a-database"><span class="toc-section-number">6.2.8</span> Reading from a database</a></li>
<li><a href="6-2-summarizing.html#read-some-data"><span class="toc-section-number">6.2.9</span> Read some data</a></li>
<li><a href="6-2-summarizing.html#questions-2"><span class="toc-section-number">6.2.10</span> Questions</a></li>
<li><a href="6-2-summarizing.html#answer"><span class="toc-section-number">6.2.11</span> Answer</a></li>
</ul></li>
</ul></li>
<li class="has-sub"><a href="7-basic-visualization.html#basic-visualization"><span class="toc-section-number">7</span> Basic Visualization</a><ul>
<li><a href="7-basic-visualization.html#visualization-in-r"><span class="toc-section-number">7.0.1</span> Visualization in R</a></li>
<li><a href="7-basic-visualization.html#common-geometric-objects"><span class="toc-section-number">7.0.2</span> Common geometric objects</a></li>
<li><a href="7-basic-visualization.html#a-basic-scatter-plot"><span class="toc-section-number">7.0.3</span> A basic scatter plot</a></li>
<li><a href="7-basic-visualization.html#add-lines"><span class="toc-section-number">7.0.4</span> Add lines</a></li>
<li><a href="7-basic-visualization.html#histogram"><span class="toc-section-number">7.0.5</span> Histogram</a></li>
<li><a href="7-basic-visualization.html#density-plot"><span class="toc-section-number">7.0.6</span> Density plot</a></li>
<li><a href="7-basic-visualization.html#boxplot"><span class="toc-section-number">7.0.7</span> Boxplot</a></li>
<li><a href="7-basic-visualization.html#plotting-a-formula"><span class="toc-section-number">7.0.8</span> Plotting a formula</a></li>
<li><a href="7-basic-visualization.html#emphasizing-outliers"><span class="toc-section-number">7.0.9</span> Emphasizing outliers</a></li>
<li><a href="7-basic-visualization.html#other-ways-to-emphasize-outliers"><span class="toc-section-number">7.0.10</span> Other ways to emphasize outliers</a></li>
<li><a href="7-1-exercise-1.html#exercise-1"><span class="toc-section-number">7.1</span> Exercise</a></li>
<li><a href="7-2-answer-1.html#answer-1"><span class="toc-section-number">7.2</span> Answer</a></li>
<li><a href="7-3-resources.html#resources"><span class="toc-section-number">7.3</span> Resources</a></li>
</ul></li>
<li class="has-sub"><a href="8-loss-distributions.html#loss-distributions"><span class="toc-section-number">8</span> Loss Distributions</a><ul>
<li><a href="8-loss-distributions.html#packages-well-use"><span class="toc-section-number">8.0.1</span> Packages we’ll use</a></li>
<li><a href="8-loss-distributions.html#statistical-distributions-in-r"><span class="toc-section-number">8.0.2</span> Statistical distributions in R</a></li>
<li><a href="8-loss-distributions.html#examples"><span class="toc-section-number">8.0.3</span> Examples</a></li>
<li><a href="8-loss-distributions.html#generate-some-loss-data"><span class="toc-section-number">8.0.4</span> Generate some loss data</a></li>
<li><a href="8-loss-distributions.html#histograms"><span class="toc-section-number">8.0.5</span> Histograms</a></li>
<li><a href="8-loss-distributions.html#density"><span class="toc-section-number">8.0.6</span> Density</a></li>
<li><a href="8-loss-distributions.html#fitdistr"><span class="toc-section-number">8.0.7</span> <code>fitdistr</code></a></li>
<li><a href="8-loss-distributions.html#q-q-plot"><span class="toc-section-number">8.0.8</span> q-q plot</a></li>
<li><a href="8-loss-distributions.html#compare-fit-to-histogram"><span class="toc-section-number">8.0.9</span> Compare fit to histogram</a></li>
<li><a href="8-loss-distributions.html#kolmogorov-smirnov"><span class="toc-section-number">8.0.10</span> Kolmogorov-Smirnov</a></li>
<li><a href="8-loss-distributions.html#more-k-s"><span class="toc-section-number">8.0.11</span> More K-S</a></li>
<li><a href="8-loss-distributions.html#direct-optimization"><span class="toc-section-number">8.0.12</span> Direct optimization</a></li>
<li><a href="8-loss-distributions.html#direct-optimization-1"><span class="toc-section-number">8.0.13</span> Direct optimization</a></li>
<li class="has-sub"><a href="8-1-direct-optimization-2.html#direct-optimization-2"><span class="toc-section-number">8.1</span> Direct optimization</a><ul>
<li><a href="8-1-direct-optimization-2.html#direct-optimization-3"><span class="toc-section-number">8.1.1</span> Direct optimization</a></li>
<li><a href="8-1-direct-optimization-2.html#questions-3"><span class="toc-section-number">8.1.2</span> Questions</a></li>
<li><a href="8-1-direct-optimization-2.html#answers-3"><span class="toc-section-number">8.1.3</span> Answers</a></li>
</ul></li>
</ul></li>
<li class="has-sub"><a href="9-simulation.html#simulation"><span class="toc-section-number">9</span> Simulation</a><ul>
<li><a href="9-simulation.html#probability-distributions"><span class="toc-section-number">9.0.1</span> Probability distributions</a></li>
<li><a href="9-simulation.html#density-function"><span class="toc-section-number">9.0.2</span> Density function</a></li>
<li><a href="9-simulation.html#a-couple-more"><span class="toc-section-number">9.0.3</span> A couple more</a></li>
<li><a href="9-simulation.html#distribution-function"><span class="toc-section-number">9.0.4</span> Distribution function</a></li>
<li><a href="9-simulation.html#density-and-distribution"><span class="toc-section-number">9.0.5</span> Density and distribution</a></li>
<li><a href="9-simulation.html#random-number-generation"><span class="toc-section-number">9.0.6</span> Random number generation</a></li>
<li><a href="9-simulation.html#more-random-number-generation"><span class="toc-section-number">9.0.7</span> More random number generation</a></li>
<li><a href="9-simulation.html#sample-revisited"><span class="toc-section-number">9.0.8</span> <code>sample</code> revisited</a></li>
<li><a href="9-simulation.html#compound-loss-distribution"><span class="toc-section-number">9.0.9</span> Compound loss distribution</a></li>
<li><a href="9-1-questions-4.html#questions-4"><span class="toc-section-number">9.1</span> Questions</a></li>
<li><a href="9-2-answers-4.html#answers-4"><span class="toc-section-number">9.2</span> Answers</a></li>
<li><a href="9-3-section-2.html#section-2"><span class="toc-section-number">9.3</span> </a></li>
</ul></li>
<li class="has-sub"><a href="10-advanced-visualization.html#advanced-visualization"><span class="toc-section-number">10</span> Advanced Visualization</a><ul>
<li><a href="10-advanced-visualization.html#ggplot2"><span class="toc-section-number">10.0.1</span> ggplot2</a></li>
<li><a href="10-advanced-visualization.html#data"><span class="toc-section-number">10.0.2</span> Data</a></li>
<li><a href="10-advanced-visualization.html#mapping"><span class="toc-section-number">10.0.3</span> Mapping</a></li>
<li><a href="10-advanced-visualization.html#adding-layers"><span class="toc-section-number">10.0.4</span> Adding layers</a></li>
<li><a href="10-advanced-visualization.html#typical-geoms"><span class="toc-section-number">10.0.5</span> Typical geoms</a></li>
<li><a href="10-advanced-visualization.html#one-step"><span class="toc-section-number">10.0.6</span> One step</a></li>
<li><a href="10-advanced-visualization.html#nothing-wrong-with-adding-two-layers"><span class="toc-section-number">10.0.7</span> Nothing wrong with adding two layers</a></li>
<li><a href="10-advanced-visualization.html#facets"><span class="toc-section-number">10.0.8</span> Facets</a></li>
<li><a href="10-advanced-visualization.html#statistical-transformations"><span class="toc-section-number">10.0.9</span> Statistical transformations</a></li>
<li><a href="10-advanced-visualization.html#scales"><span class="toc-section-number">10.0.10</span> Scales</a></li>
<li><a href="10-advanced-visualization.html#other-visual-elements"><span class="toc-section-number">10.0.11</span> Other visual elements</a></li>
<li><a href="10-1-questions-5.html#questions-5"><span class="toc-section-number">10.1</span> Questions</a></li>
<li><a href="10-2-answers-5.html#answers-5"><span class="toc-section-number">10.2</span> Answers</a></li>
<li class="has-sub"><a href="10-3-maps.html#maps"><span class="toc-section-number">10.3</span> Maps!</a><ul>
<li><a href="10-3-maps.html#hurricanes"><span class="toc-section-number">10.3.1</span> Hurricanes</a></li>
<li><a href="10-3-maps.html#choropleths-the-easy-way"><span class="toc-section-number">10.3.2</span> Choropleths the easy way</a></li>
<li><a href="10-3-maps.html#choropleths-the-harder-way"><span class="toc-section-number">10.3.3</span> Choropleths the harder way</a></li>
<li><a href="10-3-maps.html#choropleths-the-really-hard-way"><span class="toc-section-number">10.3.4</span> Choropleths the really hard way</a></li>
</ul></li>
<li><a href="10-4-summary.html#summary"><span class="toc-section-number">10.4</span> Summary</a></li>
<li><a href="10-5-reference.html#reference"><span class="toc-section-number">10.5</span> Reference</a></li>
</ul></li>
</ul>
</div>
</div>
</div>
<div class="row">
<div class="col-sm-12">
<div id="loss-distributions" class="section level1">
<h1><span class="header-section-number">Chapter 8</span> Loss Distributions</h1>
<p>By the end of this chapter, you will know the following:</p>
<ul>
<li>Simulation with <code>base</code> functions</li>
<li>How to perform basic visualization of loss data</li>
<li>How to fit a loss distributions</li>
<li>Goodness of fit</li>
</ul>
<div id="packages-well-use" class="section level3">
<h3><span class="header-section-number">8.0.1</span> Packages we’ll use</h3>
<ul>
<li><code>MASS</code> (MASS = Modern Applied Statistics in S)
<ul>
<li><code>fitdistr</code> will fit a distribution to a loss distribution function</li>
</ul></li>
<li><code>actuar</code>
<ul>
<li><code>emm</code> calculates empirical moments</li>
<li><code>lev</code> limited expected value</li>
<li><code>coverage</code> modifies a loss distribution for coverage elements</li>
<li>Contains many more distributions than are found in <code>base</code> R such as Burr, Pareto, etc. Basically, anything in “Loss Models” is likely to be found here.</li>
<li>Contains the dental claims data from “Loss Models”</li>
</ul></li>
<li>Direct optimization
<ul>
<li><code>optim</code> function</li>
</ul></li>
</ul>
</div>
<div id="statistical-distributions-in-r" class="section level3">
<h3><span class="header-section-number">8.0.2</span> Statistical distributions in R</h3>
<p>Function names are one of ‘d’, ‘p’, ‘q’, ‘r’ + function name</p>
<ul>
<li>d - probability density</li>
<li>p - cumulative distribution function</li>
<li>q - quantiles</li>
<li>r - random number generator</li>
</ul>
</div>
<div id="examples" class="section level3">
<h3><span class="header-section-number">8.0.3</span> Examples</h3>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">mu &lt;-<span class="st"> </span><span class="dv">10000</span>
CV &lt;-<span class="st"> </span><span class="fl">0.30</span>
sd &lt;-<span class="st"> </span>mu *<span class="st"> </span>CV
x &lt;-<span class="st"> </span><span class="kw">seq</span>(mu -<span class="st"> </span>sd*<span class="dv">3</span>, mu +<span class="st"> </span>sd *<span class="st"> </span><span class="dv">3</span>, <span class="dt">length.out =</span> <span class="dv">20</span>)
p &lt;-<span class="st"> </span><span class="kw">seq</span>(.<span class="dv">05</span>, .<span class="dv">95</span>, <span class="dt">by =</span> .<span class="dv">05</span>)

<span class="kw">dnorm</span>(x, mu, sd)</code></pre></div>
<pre><code>##  [1] 1.477283e-06 3.624482e-06 8.048577e-06 1.617645e-05 2.942646e-05
##  [6] 4.844888e-05 7.219719e-05 9.737506e-05 1.188683e-04 1.313334e-04
## [11] 1.313334e-04 1.188683e-04 9.737506e-05 7.219719e-05 4.844888e-05
## [16] 2.942646e-05 1.617645e-05 8.048577e-06 3.624482e-06 1.477283e-06</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">pnorm</span>(x, mu, sd)</code></pre></div>
<pre><code>##  [1] 0.001349898 0.003635066 0.008932096 0.020054161 0.041207522
##  [6] 0.077650730 0.134522788 0.214917602 0.317862557 0.437269873
## [11] 0.562730127 0.682137443 0.785082398 0.865477212 0.922349270
## [16] 0.958792478 0.979945839 0.991067904 0.996364934 0.998650102</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">qnorm</span>(p, mu, sd)</code></pre></div>
<pre><code>##  [1]  5065.439  6155.345  6890.700  7475.136  7976.531  8426.798  8844.039
##  [8]  9239.959  9623.016 10000.000 10376.984 10760.041 11155.961 11573.202
## [15] 12023.469 12524.864 13109.300 13844.655 14934.561</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">rnorm</span>(<span class="dv">10</span>, mu, sd)</code></pre></div>
<pre><code>##  [1] 11243.571  8575.845 10197.980  8492.567  7522.004 10500.968  7311.206
##  [8] 10504.556 11064.905  9843.685</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">dlnorm</span>(x, <span class="kw">log</span>(mu), <span class="kw">log</span>(sd))</code></pre></div>
<pre><code>##  [1] 4.780950e-05 2.505870e-05 1.700824e-05 1.287673e-05 1.035979e-05
##  [6] 8.664742e-06 7.445171e-06 6.525483e-06 5.807122e-06 5.230481e-06
## [11] 4.757380e-06 4.362230e-06 4.027237e-06 3.739640e-06 3.490050e-06
## [16] 3.271406e-06 3.078292e-06 2.906489e-06 2.752656e-06 2.614119e-06</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">plnorm</span>(x, <span class="kw">log</span>(mu), <span class="kw">log</span>(sd))</code></pre></div>
<pre><code>##  [1] 0.3868287 0.4190398 0.4384745 0.4524493 0.4633699 0.4723339 0.4799359
##  [8] 0.4865345 0.4923631 0.4975820 0.5023061 0.5066205 0.5105903 0.5142660
## [15] 0.5176879 0.5208885 0.5238944 0.5267278 0.5294071 0.5319482</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">plot</span>(function(x) {<span class="kw">dnorm</span>(x, <span class="dv">10</span>, <span class="dv">4</span>)}, <span class="dv">0</span>, <span class="dv">20</span>)</code></pre></div>
<p><img src="raw_files/figure-html/unnamed-chunk-104-1.png" width="672" /></p>
</div>
<div id="generate-some-loss-data" class="section level3">
<h3><span class="header-section-number">8.0.4</span> Generate some loss data</h3>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">set.seed</span>(<span class="dv">8910</span>)
years &lt;-<span class="st"> </span><span class="dv">2001</span>:<span class="dv">2010</span>
frequency &lt;-<span class="st"> </span><span class="dv">1000</span>

N &lt;-<span class="st"> </span><span class="kw">rpois</span>(<span class="kw">length</span>(years), frequency)

sevShape &lt;-<span class="st"> </span><span class="dv">2</span>
sevScale &lt;-<span class="st"> </span><span class="dv">1000</span>
severity &lt;-<span class="st"> </span><span class="kw">rgamma</span>(<span class="kw">sum</span>(N), sevShape, <span class="dt">scale =</span> sevScale)

<span class="kw">summary</span>(severity)</code></pre></div>
<pre><code>##     Min.  1st Qu.   Median     Mean  3rd Qu.     Max. 
##    21.93   928.90  1640.00  1970.00  2676.00 11130.00</code></pre>
</div>
<div id="histograms" class="section level3">
<h3><span class="header-section-number">8.0.5</span> Histograms</h3>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">hist</span>(severity)</code></pre></div>
<p><img src="raw_files/figure-html/unnamed-chunk-106-1.png" width="672" /></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">hist</span>(severity, <span class="dt">breaks =</span> <span class="dv">50</span>)</code></pre></div>
<p><img src="raw_files/figure-html/unnamed-chunk-106-2.png" width="672" /></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">hist</span>(<span class="kw">log</span>(severity), <span class="dt">breaks =</span> <span class="dv">50</span>)</code></pre></div>
<p><img src="raw_files/figure-html/unnamed-chunk-106-3.png" width="672" /></p>
</div>
<div id="density" class="section level3">
<h3><span class="header-section-number">8.0.6</span> Density</h3>
<p>The kernel density is effectively a smoothed histogram.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">plot</span>(<span class="kw">density</span>(severity))</code></pre></div>
<p><img src="raw_files/figure-html/unnamed-chunk-107-1.png" width="672" /></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">plot</span>(<span class="kw">density</span>(<span class="kw">log</span>(severity)))</code></pre></div>
<p><img src="raw_files/figure-html/unnamed-chunk-107-2.png" width="672" /></p>
</div>
<div id="fitdistr" class="section level3">
<h3><span class="header-section-number">8.0.7</span> <code>fitdistr</code></h3>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(MASS)

fitGamma &lt;-<span class="st"> </span><span class="kw">fitdistr</span>(severity, <span class="st">&quot;gamma&quot;</span>)
fitLognormal &lt;-<span class="st"> </span><span class="kw">fitdistr</span>(severity, <span class="st">&quot;lognormal&quot;</span>)
fitWeibull &lt;-<span class="st"> </span><span class="kw">fitdistr</span>(severity, <span class="st">&quot;Weibull&quot;</span>)</code></pre></div>
<pre><code>## Warning in densfun(x, parm[1], parm[2], ...): NaNs produced

## Warning in densfun(x, parm[1], parm[2], ...): NaNs produced

## Warning in densfun(x, parm[1], parm[2], ...): NaNs produced</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">fitGamma</code></pre></div>
<pre><code>##       shape           rate    
##   1.981942e+00   1.006292e-03 
##  (1.261418e-02) (8.096328e-07)</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">fitLognormal</code></pre></div>
<pre><code>##      meanlog        sdlog   
##   7.312554108   0.804493446 
##  (0.008045739) (0.005689197)</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">fitWeibull</code></pre></div>
<pre><code>##       shape          scale    
##   1.472049e+00   2.184117e+03 
##  (1.117737e-02) (1.566082e+01)</code></pre>
</div>
<div id="q-q-plot" class="section level3">
<h3><span class="header-section-number">8.0.8</span> q-q plot</h3>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">probabilities =<span class="st"> </span>(<span class="dv">1</span>:(<span class="kw">sum</span>(N)))/(<span class="kw">sum</span>(N)+<span class="dv">1</span>)

weibullQ &lt;-<span class="st"> </span><span class="kw">qweibull</span>(probabilities, <span class="kw">coef</span>(fitWeibull)[<span class="dv">1</span>], <span class="kw">coef</span>(fitWeibull)[<span class="dv">2</span>])
lnQ &lt;-<span class="st"> </span><span class="kw">qlnorm</span>(probabilities, <span class="kw">coef</span>(fitLognormal)[<span class="dv">1</span>], <span class="kw">coef</span>(fitLognormal)[<span class="dv">2</span>])
gammaQ &lt;-<span class="st"> </span><span class="kw">qgamma</span>(probabilities, <span class="kw">coef</span>(fitGamma)[<span class="dv">1</span>], <span class="kw">coef</span>(fitGamma)[<span class="dv">2</span>])

sortedSeverity &lt;-<span class="st"> </span><span class="kw">sort</span>(severity)
oldPar &lt;-<span class="st"> </span><span class="kw">par</span>(<span class="dt">mfrow =</span> <span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">3</span>))
<span class="kw">plot</span>(<span class="kw">sort</span>(weibullQ), sortedSeverity, <span class="dt">xlab =</span> <span class="st">&#39;Theoretical Quantiles&#39;</span>, <span class="dt">ylab =</span> <span class="st">&#39;Sample Quantiles&#39;</span>, <span class="dt">pch=</span><span class="dv">19</span>, <span class="dt">main =</span> <span class="st">&quot;Weibull Fit&quot;</span>)
<span class="kw">abline</span>(<span class="dv">0</span>,<span class="dv">1</span>)

<span class="kw">plot</span>(<span class="kw">sort</span>(lnQ), sortedSeverity, <span class="dt">xlab =</span> <span class="st">&#39;Theoretical Quantiles&#39;</span>, <span class="dt">ylab =</span> <span class="st">&#39;Sample Quantiles&#39;</span>, <span class="dt">pch=</span><span class="dv">19</span>, <span class="dt">main =</span> <span class="st">&quot;Lognormal Fit&quot;</span>)
<span class="kw">abline</span>(<span class="dv">0</span>,<span class="dv">1</span>)

<span class="kw">plot</span>(<span class="kw">sort</span>(gammaQ), sortedSeverity, <span class="dt">xlab =</span> <span class="st">&#39;Theoretical Quantiles&#39;</span>, <span class="dt">ylab =</span> <span class="st">&#39;Sample Quantiles&#39;</span>, <span class="dt">pch=</span><span class="dv">19</span>, <span class="dt">main =</span> <span class="st">&quot;Gamma Fit&quot;</span>)
<span class="kw">abline</span>(<span class="dv">0</span>,<span class="dv">1</span>)</code></pre></div>
<p><img src="raw_files/figure-html/unnamed-chunk-109-1.png" width="672" /></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">par</span>(oldPar)</code></pre></div>
</div>
<div id="compare-fit-to-histogram" class="section level3">
<h3><span class="header-section-number">8.0.9</span> Compare fit to histogram</h3>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">sampleLogMean &lt;-<span class="st"> </span>fitLognormal$estimate[<span class="dv">1</span>]
sampleLogSd &lt;-<span class="st"> </span>fitLognormal$estimate[<span class="dv">2</span>]

sampleShape &lt;-<span class="st"> </span>fitGamma$estimate[<span class="dv">1</span>]
sampleRate &lt;-<span class="st"> </span>fitGamma$estimate[<span class="dv">2</span>]

sampleShapeW &lt;-<span class="st"> </span>fitWeibull$estimate[<span class="dv">1</span>]
sampleScaleW &lt;-<span class="st"> </span>fitWeibull$estimate[<span class="dv">2</span>]

x &lt;-<span class="st"> </span><span class="kw">seq</span>(<span class="dv">0</span>, <span class="kw">max</span>(severity), <span class="dt">length.out=</span><span class="dv">500</span>)
yLN &lt;-<span class="st"> </span><span class="kw">dlnorm</span>(x, sampleLogMean, sampleLogSd)
yGamma &lt;-<span class="st"> </span><span class="kw">dgamma</span>(x, sampleShape, sampleRate)
yWeibull &lt;-<span class="st"> </span><span class="kw">dweibull</span>(x, sampleShapeW, sampleScaleW)

<span class="kw">hist</span>(severity, <span class="dt">freq=</span><span class="ot">FALSE</span>, <span class="dt">ylim=</span><span class="kw">range</span>(yLN, yGamma))

<span class="kw">lines</span>(x, yLN, <span class="dt">col=</span><span class="st">&quot;blue&quot;</span>)
<span class="kw">lines</span>(x, yGamma, <span class="dt">col=</span><span class="st">&quot;red&quot;</span>)
<span class="kw">lines</span>(x, yWeibull, <span class="dt">col=</span><span class="st">&quot;green&quot;</span>)</code></pre></div>
<p><img src="raw_files/figure-html/unnamed-chunk-110-1.png" width="672" /></p>
</div>
<div id="kolmogorov-smirnov" class="section level3">
<h3><span class="header-section-number">8.0.10</span> Kolmogorov-Smirnov</h3>
<p>The Kolmogorov-Smirnov test measures the distance between an sample distribution and a candidate loss distribution. More formal than q-q plots.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">sampleCumul &lt;-<span class="st"> </span><span class="kw">seq</span>(<span class="dv">1</span>, <span class="kw">length</span>(severity)) /<span class="st"> </span><span class="kw">length</span>(severity)
stepSample  &lt;-<span class="st"> </span><span class="kw">stepfun</span>(sortedSeverity, <span class="kw">c</span>(<span class="dv">0</span>, sampleCumul), <span class="dt">f =</span> <span class="dv">0</span>)
yGamma &lt;-<span class="st"> </span><span class="kw">pgamma</span>(sortedSeverity, sampleShape, sampleRate)
yWeibull &lt;-<span class="st"> </span><span class="kw">pweibull</span>(sortedSeverity, sampleShapeW, sampleScaleW)
yLN &lt;-<span class="st"> </span><span class="kw">plnorm</span>(sortedSeverity, sampleLogMean, sampleLogSd)

<span class="kw">plot</span>(stepSample, <span class="dt">col=</span><span class="st">&quot;black&quot;</span>, <span class="dt">main =</span> <span class="st">&quot;K-S Gamma&quot;</span>)
<span class="kw">lines</span>(sortedSeverity, yGamma, <span class="dt">col =</span> <span class="st">&quot;blue&quot;</span>)</code></pre></div>
<p><img src="raw_files/figure-html/unnamed-chunk-111-1.png" width="672" /></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">plot</span>(stepSample, <span class="dt">col=</span><span class="st">&quot;black&quot;</span>, <span class="dt">main =</span> <span class="st">&quot;K-S Weibull&quot;</span>)
<span class="kw">lines</span>(sortedSeverity, yWeibull, <span class="dt">col =</span> <span class="st">&quot;blue&quot;</span>)</code></pre></div>
<p><img src="raw_files/figure-html/unnamed-chunk-111-2.png" width="672" /></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">plot</span>(stepSample, <span class="dt">col=</span><span class="st">&quot;black&quot;</span>, <span class="dt">main =</span> <span class="st">&quot;K-S Lognormal&quot;</span>)
<span class="kw">lines</span>(sortedSeverity, yLN, <span class="dt">col =</span> <span class="st">&quot;blue&quot;</span>)</code></pre></div>
<p><img src="raw_files/figure-html/unnamed-chunk-111-3.png" width="672" /></p>
</div>
<div id="more-k-s" class="section level3">
<h3><span class="header-section-number">8.0.11</span> More K-S</h3>
<p>A low value for D indicates that the selected curve is fairly close to our data. The p-value indicates the chance that D was produced by the null hypothesis.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">testGamma &lt;-<span class="st"> </span><span class="kw">ks.test</span>(severity, <span class="st">&quot;pgamma&quot;</span>, sampleShape, sampleRate)
testLN &lt;-<span class="st"> </span><span class="kw">ks.test</span>(severity, <span class="st">&quot;plnorm&quot;</span>, sampleLogMean, sampleLogSd)
testWeibull &lt;-<span class="st"> </span><span class="kw">ks.test</span>(severity, <span class="st">&quot;pweibull&quot;</span>, sampleShapeW, sampleScaleW)

testGamma</code></pre></div>
<pre><code>## 
##  One-sample Kolmogorov-Smirnov test
## 
## data:  severity
## D = 0.0066186, p-value = 0.7735
## alternative hypothesis: two-sided</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">testLN</code></pre></div>
<pre><code>## 
##  One-sample Kolmogorov-Smirnov test
## 
## data:  severity
## D = 0.047763, p-value &lt; 2.2e-16
## alternative hypothesis: two-sided</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">testWeibull</code></pre></div>
<pre><code>## 
##  One-sample Kolmogorov-Smirnov test
## 
## data:  severity
## D = 0.02053, p-value = 0.0004373
## alternative hypothesis: two-sided</code></pre>
</div>
<div id="direct-optimization" class="section level3">
<h3><span class="header-section-number">8.0.12</span> Direct optimization</h3>
<p>The <code>optim</code> function will optimize a function. Works very similar to the Solver algorithm in Excel. <code>optim</code> takes a function as an argument, so let’s create a function.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">quadraticFun &lt;-<span class="st"> </span>function(a, b, c){
  function(x) a*x^<span class="dv">2</span> +<span class="st"> </span>b*x +<span class="st"> </span>c
}

myQuad &lt;-<span class="st"> </span><span class="kw">quadraticFun</span>(<span class="dt">a=</span><span class="dv">4</span>, <span class="dt">b=</span>-<span class="dv">3</span>, <span class="dt">c=</span><span class="dv">3</span>)
<span class="kw">plot</span>(myQuad, -<span class="dv">10</span>, <span class="dv">10</span>)</code></pre></div>
<p><img src="raw_files/figure-html/unnamed-chunk-113-1.png" width="672" /></p>
</div>
<div id="direct-optimization-1" class="section level3">
<h3><span class="header-section-number">8.0.13</span> Direct optimization</h3>
<p>8 is our initial guess. A good initial guess will speed up conversion.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">myResult &lt;-<span class="st"> </span><span class="kw">optim</span>(<span class="dv">8</span>, myQuad)</code></pre></div>
<pre><code>## Warning in optim(8, myQuad): one-dimensional optimization by Nelder-Mead is unreliable:
## use &quot;Brent&quot; or optimize() directly</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">myResult</code></pre></div>
<pre><code>## $par
## [1] 0.4
## 
## $value
## [1] 2.44
## 
## $counts
## function gradient 
##       20       NA 
## 
## $convergence
## [1] 0
## 
## $message
## NULL</code></pre>
</div> 
</div>
<p style="text-align: center;">
<a href="7-3-resources.html"><button class="btn btn-default">Previous</button></a>
<a href="8-1-direct-optimization-2.html"><button class="btn btn-default">Next</button></a>
</p>
</div>
</div>


</div>

<script>

// add bootstrap table styles to pandoc tables
$(document).ready(function () {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
});

</script>

</body>
</html>
