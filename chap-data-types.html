<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>raw - R Actuarial Workshops</title>
  <meta content="text/html; charset=UTF-8" http-equiv="Content-Type">
  <meta name="description" content="This is a companion to actuarial workshops.">
  <meta name="generator" content="bookdown 0.1 and GitBook 2.6.7">

  <meta property="og:title" content="raw - R Actuarial Workshops" />
  <meta property="og:type" content="book" />
  
  <meta property="og:image" content="raw_cover.png" />
  <meta property="og:description" content="This is a companion to actuarial workshops." />
  <meta name="github-repo" content="PirateGrunt/raw_book" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="raw - R Actuarial Workshops" />
  
  <meta name="twitter:description" content="This is a companion to actuarial workshops." />
  <meta name="twitter:image" content="raw_cover.png" />

<meta name="author" content="Brian A. Fannin, ACAS">

<meta name="date" content="2016-09-07">

<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  TeX: { equationNumbers: { autoNumber: "AMS" } }
});
</script>

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="data.html">
<link rel="next" href="chap-vectors.html">

<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>


  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">raw - Raw Actuarial Workshops</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Introduction</a></li>
<li class="chapter" data-level="" data-path="first-steps.html"><a href="first-steps.html"><i class="fa fa-check"></i>First Steps</a></li>
<li class="chapter" data-level="1" data-path="setup.html"><a href="setup.html"><i class="fa fa-check"></i><b>1</b> Setup</a><ul>
<li class="chapter" data-level="1.1" data-path="setup.html"><a href="setup.html#installing-r"><i class="fa fa-check"></i><b>1.1</b> Installing R</a><ul>
<li class="chapter" data-level="1.1.1" data-path="setup.html"><a href="setup.html#operating-systems"><i class="fa fa-check"></i><b>1.1.1</b> Operating systems</a></li>
<li class="chapter" data-level="1.1.2" data-path="setup.html"><a href="setup.html#bitness"><i class="fa fa-check"></i><b>1.1.2</b> Bitness</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="setup.html"><a href="setup.html#installing-r-studio"><i class="fa fa-check"></i><b>1.2</b> Installing R Studio</a><ul>
<li class="chapter" data-level="1.2.1" data-path="setup.html"><a href="setup.html#it"><i class="fa fa-check"></i><b>1.2.1</b> IT</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="setup.html"><a href="setup.html#conclusion"><i class="fa fa-check"></i><b>1.3</b> Conclusion</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="getting-started.html"><a href="getting-started.html"><i class="fa fa-check"></i><b>2</b> Getting started</a><ul>
<li class="chapter" data-level="2.1" data-path="getting-started.html"><a href="getting-started.html#the-operating-environment"><i class="fa fa-check"></i><b>2.1</b> The Operating Environment</a><ul>
<li class="chapter" data-level="2.1.1" data-path="getting-started.html"><a href="getting-started.html#command-line-interface"><i class="fa fa-check"></i><b>2.1.1</b> Command-line interface</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="getting-started.html"><a href="getting-started.html#entering-commands"><i class="fa fa-check"></i><b>2.2</b> Entering Commands</a></li>
<li class="chapter" data-level="2.3" data-path="getting-started.html"><a href="getting-started.html#your-first-script"><i class="fa fa-check"></i><b>2.3</b> Your first script</a><ul>
<li class="chapter" data-level="2.3.1" data-path="getting-started.html"><a href="getting-started.html#executing-a-script"><i class="fa fa-check"></i><b>2.3.1</b> Executing a script</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="getting-started.html"><a href="getting-started.html#getting-help"><i class="fa fa-check"></i><b>2.4</b> Getting help</a></li>
<li class="chapter" data-level="2.5" data-path="getting-started.html"><a href="getting-started.html#the-working-directory"><i class="fa fa-check"></i><b>2.5</b> The working directory</a><ul>
<li class="chapter" data-level="2.5.1" data-path="getting-started.html"><a href="getting-started.html#directory-paths"><i class="fa fa-check"></i><b>2.5.1</b> Directory paths</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="elements-of-the-language.html"><a href="elements-of-the-language.html"><i class="fa fa-check"></i><b>3</b> Elements of the Language</a><ul>
<li class="chapter" data-level="3.1" data-path="elements-of-the-language.html"><a href="elements-of-the-language.html#variables"><i class="fa fa-check"></i><b>3.1</b> Variables</a><ul>
<li class="chapter" data-level="3.1.1" data-path="elements-of-the-language.html"><a href="elements-of-the-language.html#assignment"><i class="fa fa-check"></i><b>3.1.1</b> Assignment</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="elements-of-the-language.html"><a href="elements-of-the-language.html#operators"><i class="fa fa-check"></i><b>3.2</b> Operators</a><ul>
<li class="chapter" data-level="3.2.1" data-path="elements-of-the-language.html"><a href="elements-of-the-language.html#mathematical-operators"><i class="fa fa-check"></i><b>3.2.1</b> Mathematical Operators</a></li>
<li class="chapter" data-level="3.2.2" data-path="elements-of-the-language.html"><a href="elements-of-the-language.html#logical-operators"><i class="fa fa-check"></i><b>3.2.2</b> Logical Operators</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="elements-of-the-language.html"><a href="elements-of-the-language.html#functions"><i class="fa fa-check"></i><b>3.3</b> Functions</a><ul>
<li class="chapter" data-level="3.3.1" data-path="elements-of-the-language.html"><a href="elements-of-the-language.html#a-few-mathematical-functions"><i class="fa fa-check"></i><b>3.3.1</b> A few mathematical functions</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="elements-of-the-language.html"><a href="elements-of-the-language.html#comments"><i class="fa fa-check"></i><b>3.4</b> Comments</a><ul>
<li class="chapter" data-level="3.4.1" data-path="elements-of-the-language.html"><a href="elements-of-the-language.html#bad-comment"><i class="fa fa-check"></i><b>3.4.1</b> Bad comment</a></li>
<li class="chapter" data-level="3.4.2" data-path="elements-of-the-language.html"><a href="elements-of-the-language.html#good-comment"><i class="fa fa-check"></i><b>3.4.2</b> Good comment</a></li>
</ul></li>
<li class="chapter" data-level="3.5" data-path="elements-of-the-language.html"><a href="elements-of-the-language.html#exercises"><i class="fa fa-check"></i><b>3.5</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="data.html"><a href="data.html"><i class="fa fa-check"></i>Data</a></li>
<li class="chapter" data-level="4" data-path="chap-data-types.html"><a href="chap-data-types.html"><i class="fa fa-check"></i><b>4</b> Data types</a><ul>
<li class="chapter" data-level="4.1" data-path="chap-data-types.html"><a href="chap-data-types.html#data-types"><i class="fa fa-check"></i><b>4.1</b> Data types</a></li>
<li class="chapter" data-level="4.2" data-path="chap-data-types.html"><a href="chap-data-types.html#data-conversion"><i class="fa fa-check"></i><b>4.2</b> Data conversion</a></li>
<li class="chapter" data-level="4.3" data-path="chap-data-types.html"><a href="chap-data-types.html#dates-and-times"><i class="fa fa-check"></i><b>4.3</b> Dates and times</a></li>
<li class="chapter" data-level="4.4" data-path="chap-data-types.html"><a href="chap-data-types.html#factors"><i class="fa fa-check"></i><b>4.4</b> Factors</a></li>
<li class="chapter" data-level="4.5" data-path="chap-data-types.html"><a href="chap-data-types.html#exercises-1"><i class="fa fa-check"></i><b>4.5</b> Exercises</a><ul>
<li class="chapter" data-level="4.5.1" data-path="chap-data-types.html"><a href="chap-data-types.html#answers"><i class="fa fa-check"></i><b>4.5.1</b> Answers</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="chap-vectors.html"><a href="chap-vectors.html"><i class="fa fa-check"></i><b>5</b> Vectors</a><ul>
<li class="chapter" data-level="5.1" data-path="chap-vectors.html"><a href="chap-vectors.html#what-is-a-vector"><i class="fa fa-check"></i><b>5.1</b> What is a vector?</a><ul>
<li class="chapter" data-level="5.1.1" data-path="chap-vectors.html"><a href="chap-vectors.html#vector-properties"><i class="fa fa-check"></i><b>5.1.1</b> Vector properties</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="chap-vectors.html"><a href="chap-vectors.html#vector-construction"><i class="fa fa-check"></i><b>5.2</b> Vector construction</a><ul>
<li class="chapter" data-level="5.2.1" data-path="chap-vectors.html"><a href="chap-vectors.html#vector"><i class="fa fa-check"></i><b>5.2.1</b> <code>vector</code></a></li>
<li class="chapter" data-level="5.2.2" data-path="chap-vectors.html"><a href="chap-vectors.html#seq"><i class="fa fa-check"></i><b>5.2.2</b> <code>seq</code></a></li>
<li class="chapter" data-level="5.2.3" data-path="chap-vectors.html"><a href="chap-vectors.html#rep"><i class="fa fa-check"></i><b>5.2.3</b> <code>rep</code></a></li>
<li class="chapter" data-level="5.2.4" data-path="chap-vectors.html"><a href="chap-vectors.html#c"><i class="fa fa-check"></i><b>5.2.4</b> <code>c</code></a></li>
<li class="chapter" data-level="5.2.5" data-path="chap-vectors.html"><a href="chap-vectors.html#paste"><i class="fa fa-check"></i><b>5.2.5</b> <code>paste</code></a></li>
<li class="chapter" data-level="5.2.6" data-path="chap-vectors.html"><a href="chap-vectors.html#sample"><i class="fa fa-check"></i><b>5.2.6</b> <code>sample</code></a></li>
<li class="chapter" data-level="5.2.7" data-path="chap-vectors.html"><a href="chap-vectors.html#sort"><i class="fa fa-check"></i><b>5.2.7</b> <code>sort</code></a></li>
<li class="chapter" data-level="5.2.8" data-path="chap-vectors.html"><a href="chap-vectors.html#recycling"><i class="fa fa-check"></i><b>5.2.8</b> Recycling</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="chap-vectors.html"><a href="chap-vectors.html#vector-access"><i class="fa fa-check"></i><b>5.3</b> Vector access</a><ul>
<li class="chapter" data-level="5.3.1" data-path="chap-vectors.html"><a href="chap-vectors.html#headtail"><i class="fa fa-check"></i><b>5.3.1</b> <code>head</code>/<code>tail</code></a></li>
<li class="chapter" data-level="5.3.2" data-path="chap-vectors.html"><a href="chap-vectors.html#vector-access---logical-access"><i class="fa fa-check"></i><b>5.3.2</b> Vector access - logical access</a></li>
<li class="chapter" data-level="5.3.3" data-path="chap-vectors.html"><a href="chap-vectors.html#which"><i class="fa fa-check"></i><b>5.3.3</b> <code>which</code></a></li>
<li class="chapter" data-level="5.3.4" data-path="chap-vectors.html"><a href="chap-vectors.html#order"><i class="fa fa-check"></i><b>5.3.4</b> <code>order</code></a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="chap-vectors.html"><a href="chap-vectors.html#set-theory"><i class="fa fa-check"></i><b>5.4</b> Set theory</a></li>
<li class="chapter" data-level="5.5" data-path="chap-vectors.html"><a href="chap-vectors.html#assignment-1"><i class="fa fa-check"></i><b>5.5</b> Assignment</a><ul>
<li class="chapter" data-level="5.5.1" data-path="chap-vectors.html"><a href="chap-vectors.html#growth-by-assignment"><i class="fa fa-check"></i><b>5.5.1</b> Growth by assignment</a></li>
</ul></li>
<li class="chapter" data-level="5.6" data-path="chap-vectors.html"><a href="chap-vectors.html#metadata"><i class="fa fa-check"></i><b>5.6</b> Metadata</a><ul>
<li class="chapter" data-level="5.6.1" data-path="chap-vectors.html"><a href="chap-vectors.html#length-dim"><i class="fa fa-check"></i><b>5.6.1</b> <code>length</code>, <code>dim</code></a></li>
</ul></li>
<li class="chapter" data-level="5.7" data-path="chap-vectors.html"><a href="chap-vectors.html#summarization"><i class="fa fa-check"></i><b>5.7</b> Summarization</a></li>
<li class="chapter" data-level="5.8" data-path="chap-vectors.html"><a href="chap-vectors.html#matrices"><i class="fa fa-check"></i><b>5.8</b> Matrices</a><ul>
<li class="chapter" data-level="5.8.1" data-path="chap-vectors.html"><a href="chap-vectors.html#section"><i class="fa fa-check"></i><b>5.8.1</b> </a></li>
<li class="chapter" data-level="5.8.2" data-path="chap-vectors.html"><a href="chap-vectors.html#matrix-metadata"><i class="fa fa-check"></i><b>5.8.2</b> Matrix metadata</a></li>
<li class="chapter" data-level="5.8.3" data-path="chap-vectors.html"><a href="chap-vectors.html#matrix-access"><i class="fa fa-check"></i><b>5.8.3</b> Matrix access</a></li>
<li class="chapter" data-level="5.8.4" data-path="chap-vectors.html"><a href="chap-vectors.html#matrix-summarizatioon"><i class="fa fa-check"></i><b>5.8.4</b> Matrix summarizatioon</a></li>
</ul></li>
<li class="chapter" data-level="5.9" data-path="chap-vectors.html"><a href="chap-vectors.html#arrays"><i class="fa fa-check"></i><b>5.9</b> Arrays</a></li>
<li class="chapter" data-level="5.10" data-path="chap-vectors.html"><a href="chap-vectors.html#exercises-2"><i class="fa fa-check"></i><b>5.10</b> Exercises</a></li>
<li class="chapter" data-level="5.11" data-path="chap-vectors.html"><a href="chap-vectors.html#answers-1"><i class="fa fa-check"></i><b>5.11</b> Answers</a></li>
<li class="chapter" data-level="5.12" data-path="chap-vectors.html"><a href="chap-vectors.html#conclusion-1"><i class="fa fa-check"></i><b>5.12</b> Conclusion</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="lists.html"><a href="lists.html"><i class="fa fa-check"></i><b>6</b> Lists</a><ul>
<li class="chapter" data-level="6.1" data-path="lists.html"><a href="lists.html#lists-overview"><i class="fa fa-check"></i><b>6.1</b> Lists Overview</a></li>
<li class="chapter" data-level="6.2" data-path="lists.html"><a href="lists.html#list-construction"><i class="fa fa-check"></i><b>6.2</b> List construction</a></li>
<li class="chapter" data-level="6.3" data-path="lists.html"><a href="lists.html#access-and-assignment"><i class="fa fa-check"></i><b>6.3</b> Access and assignment</a><ul>
<li class="chapter" data-level="6.3.1" data-path="lists.html"><a href="lists.html#recursive-storage"><i class="fa fa-check"></i><b>6.3.1</b> Recursive storage</a></li>
<li class="chapter" data-level="6.3.2" data-path="lists.html"><a href="lists.html#list-metadata"><i class="fa fa-check"></i><b>6.3.2</b> List metadata</a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="lists.html"><a href="lists.html#summary-functions"><i class="fa fa-check"></i><b>6.4</b> Summary functions</a></li>
<li class="chapter" data-level="6.5" data-path="lists.html"><a href="lists.html#flotsam"><i class="fa fa-check"></i><b>6.5</b> Flotsam</a><ul>
<li class="chapter" data-level="6.5.1" data-path="lists.html"><a href="lists.html#split"><i class="fa fa-check"></i><b>6.5.1</b> <code>split</code></a></li>
</ul></li>
<li class="chapter" data-level="6.6" data-path="lists.html"><a href="lists.html#exercises-3"><i class="fa fa-check"></i><b>6.6</b> Exercises</a></li>
<li class="chapter" data-level="6.7" data-path="lists.html"><a href="lists.html#answers-2"><i class="fa fa-check"></i><b>6.7</b> Answers</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="data-frames.html"><a href="data-frames.html"><i class="fa fa-check"></i><b>7</b> Data Frames</a><ul>
<li class="chapter" data-level="7.1" data-path="data-frames.html"><a href="data-frames.html#whats-a-data-frame"><i class="fa fa-check"></i><b>7.1</b> What’s a data frame?</a><ul>
<li class="chapter" data-level="7.1.1" data-path="data-frames.html"><a href="data-frames.html#creating-a-data-frame"><i class="fa fa-check"></i><b>7.1.1</b> Creating a data frame</a></li>
<li class="chapter" data-level="7.1.2" data-path="data-frames.html"><a href="data-frames.html#basic-properties-of-a-data-frame"><i class="fa fa-check"></i><b>7.1.2</b> Basic properties of a data frame</a></li>
<li class="chapter" data-level="7.1.3" data-path="data-frames.html"><a href="data-frames.html#merging"><i class="fa fa-check"></i><b>7.1.3</b> Merging</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="data-frames.html"><a href="data-frames.html#access-and-assignment-1"><i class="fa fa-check"></i><b>7.2</b> Access and Assignment</a><ul>
<li class="chapter" data-level="7.2.1" data-path="data-frames.html"><a href="data-frames.html#altering-and-adding-columns"><i class="fa fa-check"></i><b>7.2.1</b> Altering and adding columns</a></li>
<li class="chapter" data-level="7.2.2" data-path="data-frames.html"><a href="data-frames.html#eliminating-columns"><i class="fa fa-check"></i><b>7.2.2</b> Eliminating columns</a></li>
<li class="chapter" data-level="7.2.3" data-path="data-frames.html"><a href="data-frames.html#subsetting---the-easy-way"><i class="fa fa-check"></i><b>7.2.3</b> Subsetting - The easy way</a></li>
<li class="chapter" data-level="7.2.4" data-path="data-frames.html"><a href="data-frames.html#subsetting---the-hardish-way"><i class="fa fa-check"></i><b>7.2.4</b> Subsetting - The hard(ish) way</a></li>
<li class="chapter" data-level="7.2.5" data-path="data-frames.html"><a href="data-frames.html#subsetting---yet-another-way"><i class="fa fa-check"></i><b>7.2.5</b> Subsetting - Yet another way</a></li>
<li class="chapter" data-level="7.2.6" data-path="data-frames.html"><a href="data-frames.html#ordering"><i class="fa fa-check"></i><b>7.2.6</b> Ordering</a></li>
<li class="chapter" data-level="7.2.7" data-path="data-frames.html"><a href="data-frames.html#altering-column-names"><i class="fa fa-check"></i><b>7.2.7</b> Altering column names</a></li>
<li class="chapter" data-level="7.2.8" data-path="data-frames.html"><a href="data-frames.html#with-and-attach"><i class="fa fa-check"></i><b>7.2.8</b> <code>with</code> and <code>attach</code></a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="data-frames.html"><a href="data-frames.html#summarizing"><i class="fa fa-check"></i><b>7.3</b> Summarizing</a><ul>
<li class="chapter" data-level="7.3.1" data-path="data-frames.html"><a href="data-frames.html#summarizing-visually---1"><i class="fa fa-check"></i><b>7.3.1</b> Summarizing visually - 1</a></li>
<li class="chapter" data-level="7.3.2" data-path="data-frames.html"><a href="data-frames.html#summarizing-visually---2"><i class="fa fa-check"></i><b>7.3.2</b> Summarizing visually - 2</a></li>
<li class="chapter" data-level="7.3.3" data-path="data-frames.html"><a href="data-frames.html#advanced-data-frame-tools"><i class="fa fa-check"></i><b>7.3.3</b> Advanced data frame tools</a></li>
</ul></li>
<li class="chapter" data-level="7.4" data-path="data-frames.html"><a href="data-frames.html#reading-and-writing-external-data"><i class="fa fa-check"></i><b>7.4</b> Reading and writing external data</a><ul>
<li class="chapter" data-level="7.4.1" data-path="data-frames.html"><a href="data-frames.html#reading-from-excel"><i class="fa fa-check"></i><b>7.4.1</b> Reading from Excel</a></li>
<li class="chapter" data-level="7.4.2" data-path="data-frames.html"><a href="data-frames.html#reading-from-the-web"><i class="fa fa-check"></i><b>7.4.2</b> Reading from the web</a></li>
<li class="chapter" data-level="7.4.3" data-path="data-frames.html"><a href="data-frames.html#reading-from-a-database"><i class="fa fa-check"></i><b>7.4.3</b> Reading from a database</a></li>
<li class="chapter" data-level="7.4.4" data-path="data-frames.html"><a href="data-frames.html#read-some-data"><i class="fa fa-check"></i><b>7.4.4</b> Read some data</a></li>
</ul></li>
<li class="chapter" data-level="7.5" data-path="data-frames.html"><a href="data-frames.html#exercises-4"><i class="fa fa-check"></i><b>7.5</b> Exercises</a><ul>
<li class="chapter" data-level="7.5.1" data-path="data-frames.html"><a href="data-frames.html#answer"><i class="fa fa-check"></i><b>7.5.1</b> Answer</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/PirateGrunt/raw_book" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">raw - R Actuarial Workshops</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="chap-data-types" class="section level1">
<h1><span class="header-section-number">4</span> Data types</h1>
<p>To a human, the difference between something numeric- like a person’s age- and something textual - like their name - isn’t a big deal. To a computer, however, this matters a lot. In order to ensure that there is sufficient memory to store the information and to ensure that it may be used in an operation, the computer needs to know what type of data it’s working with. In other words: 5 + “Steve” = Huh?</p>
<p>In this chapter, we’ll talk through the various primitive data types that R supports. By the end of this chapter, you will be able to answer the following:</p>
<ul>
<li>What are the different data types?</li>
<li>When and how is one type converted to another?</li>
<li>How can I work with dates?</li>
<li>What the heck is a factor?</li>
</ul>
<div id="data-types" class="section level2">
<h2><span class="header-section-number">4.1</span> Data types</h2>
<p>R supports four “primitive” data types as shown below:</p>
<ul>
<li>logical</li>
<li>integer</li>
<li>double</li>
<li>character</li>
</ul>
<p>To know what type of data you’re working with, you use the (wait for it) <code>typeof</code> function. If you want to test for a specific data type, you can use the suite of <code>is.</code> functions. Have a look at the example below. Note that when we want something to be an integer, we type the letter “L” after the number.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">x &lt;-<span class="st"> </span><span class="dv">6</span>
y &lt;-<span class="st"> </span>3L
z &lt;-<span class="st"> </span><span class="ot">TRUE</span>
<span class="kw">typeof</span>(x)
<span class="co">#&gt; [1] &quot;double&quot;</span>
<span class="kw">typeof</span>(y)
<span class="co">#&gt; [1] &quot;integer&quot;</span>
<span class="kw">typeof</span>(z)
<span class="co">#&gt; [1] &quot;logical&quot;</span>
<span class="kw">is.logical</span>(x)
<span class="co">#&gt; [1] FALSE</span>
<span class="kw">is.double</span>(x)
<span class="co">#&gt; [1] TRUE</span></code></pre></div>
</div>
<div id="data-conversion" class="section level2">
<h2><span class="header-section-number">4.2</span> Data conversion</h2>
<p>It’s possible to convert from one type to another. Most of the time, this happens implicitly as part of an operation. R will alter data in order for calculations to take place. For example, let’s say that I’m adding together <code>x</code> and <code>y</code> from the code snippet above. We know that an integer and a real number will add together easily, but the computer needs to convert the integer before the operation can take place.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">typeof</span>(x +<span class="st"> </span>y)
<span class="co">#&gt; [1] &quot;double&quot;</span></code></pre></div>
<p>Implicit conversion will change data types in the order shown below. Note that all data types for an operation will be converted to the most complex number involved in the calculation.</p>
<p>logical -&gt; integer -&gt; double -&gt; character</p>
<p>Note that implicit conversion can’t always help us. Let’s try the example from the start of this chapter.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="dv">5</span> +<span class="st"> &#39;Steve&#39;</span>
<span class="co">#&gt; Error in 5 + &quot;Steve&quot;: non-numeric argument to binary operator</span></code></pre></div>
<p>Here, R is telling us that it doesn’t know how to add a number and a word. I don’t either.</p>
<p>For explicit conversion, use the <code>as.*</code> functions. When explicit conversion is used to convert a value to a simpler data type - double to integer, say - that there will likely be loss of information.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Implicit conversion</span>
w &lt;-<span class="st"> </span><span class="ot">TRUE</span>
x &lt;-<span class="st"> </span>4L
y &lt;-<span class="st"> </span><span class="fl">5.8</span>
z &lt;-<span class="st"> </span>w +<span class="st"> </span>x +<span class="st"> </span>y
<span class="kw">typeof</span>(z)
<span class="co">#&gt; [1] &quot;double&quot;</span>

<span class="co"># Explicit conversion. Note loss of data.</span>
<span class="kw">as.integer</span>(z)
<span class="co">#&gt; [1] 10</span></code></pre></div>
<p>In addition to <code>typeof</code> there are two other functions which will return basic information about an object.</p>
<p>The <code>mode</code> of an object will return a value indicating how the object is meant to be stored. This will generally mirror the output produced by <code>typeof</code> except that double and integers both have a mode of “numeric”. This function has never improved my life and it won’t be discussed any further.</p>
<p>A <code>class</code> of an object is a very special kind of metadata. (We’ll get more into metadata in the next chapter <a href="chap-vectors.html#chap-vectors">Vectors</a>.) When we get beyond primitive data types, this starts to become important. We’ll see two examples in just a moment when we talk about dates and factors. The class of a basic type will be equal to its type apart from ‘double’, whose class is ‘numeric’ for reasons I don’t pretend to understand.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">class</span>(<span class="ot">TRUE</span>)
<span class="co">#&gt; [1] &quot;logical&quot;</span>
<span class="kw">class</span>(pi)
<span class="co">#&gt; [1] &quot;numeric&quot;</span>
<span class="kw">class</span>(4L)
<span class="co">#&gt; [1] &quot;integer&quot;</span>
<span class="kw">class</span>(<span class="kw">Sys.Date</span>())
<span class="co">#&gt; [1] &quot;Date&quot;</span></code></pre></div>
<p>The table below summarizes most of the ways we can sort out what sort of data we’re working with.</p>
<table>
<caption><span id="tab:unnamed-chunk-24">Table 4.1: </span>Key similarities and differences between vectors and lists</caption>
<thead>
<tr class="header">
<th align="left">Function</th>
<th align="left">Returns</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">typeof</td>
<td align="left">The type of the object</td>
</tr>
<tr class="even">
<td align="left">mode</td>
<td align="left">Storage mode of the object</td>
</tr>
<tr class="odd">
<td align="left">class</td>
<td align="left">The class(es) of the object</td>
</tr>
<tr class="even">
<td align="left">inherits</td>
<td align="left">Whether the object is a particular class</td>
</tr>
<tr class="odd">
<td align="left">is.</td>
<td align="left">Whether the object is a particular type</td>
</tr>
</tbody>
</table>
</div>
<div id="dates-and-times" class="section level2">
<h2><span class="header-section-number">4.3</span> Dates and times</h2>
<p>Dates in R can be tricky. There are two basic classes: <code>Date</code> and <code>POSIXt</code>. The <code>Date</code> class does not get more granular than days. The <code>POSIXt</code> class can handle seconds, milliseconds, etc. My recommendation is to stick with the “Date” class. Introducing times means introducing time zones and the possibility for confusion or error. Actuaries rarely need to measure things in minutes.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">x &lt;-<span class="st"> </span><span class="kw">as.Date</span>(<span class="st">&#39;2010-01-01&#39;</span>)
<span class="kw">class</span>(x)
<span class="co">#&gt; [1] &quot;Date&quot;</span>
<span class="kw">typeof</span>(x)
<span class="co">#&gt; [1] &quot;double&quot;</span></code></pre></div>
<p>By default, dates don’t follow US conventions. Much like avoiding the metric system, United Statesians are sticking with a convention that doesn’t have a lot of logical support. If you want to preserve your sanity, stick with year, month, day order.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Don&#39;t do this:</span>
x &lt;-<span class="st"> </span><span class="kw">as.Date</span>(<span class="st">&#39;06-30-2010&#39;</span>)
<span class="co">#&gt; Error in charToDate(x): character string is not in a standard unambiguous format</span>

<span class="co"># But this is just fine:</span>
x &lt;-<span class="st"> </span><span class="kw">as.Date</span>(<span class="st">&#39;30-06-2010&#39;</span>)

<span class="co"># Year, month, day is your friend</span>
x &lt;-<span class="st"> </span><span class="kw">as.Date</span>(<span class="st">&#39;2010-06-30&#39;</span>)</code></pre></div>
<p>To get the date and time of the computer, use the either <code>Sys.Date()</code> or <code>Sys.time()</code>. Note that <code>Sys.time()</code> will return both the day AND the time as a POSIXct object.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">x &lt;-<span class="st"> </span><span class="kw">Sys.Date</span>()
y &lt;-<span class="st"> </span><span class="kw">Sys.time</span>()</code></pre></div>
<p>It’s worth reading the documentation about dates. Measuring time periods is a common task for actuaries. It’s easy to make huge mistakes by getting dates wrong.</p>
<p>The <code>lubridate</code> package has some nice convenience functions for setting month and day and reasoning about time periods. It also enables you to deal with time zones, leap days and leap seconds. This is probably more than most folks need, but it’s worth looking into.</p>
<p>The <code>mondate</code> package was written by Daniel Murphy (an actuary) and supports handling time periods in terms of months. This is a very good thing. You’ll quickly learn that the base functions don’t like dealing with time periods as measured in months. Why? Because they’re all different lengths. It’s not clear how to add “one month” to a set of dates. And yet, we very often want to do this. An easy example is adding a set of months to the last day in a month. The close of a quarter is a common task in financial circles. The code below will produce the end of the quarter for a single year.<a href="#fn5" class="footnoteRef" id="fnref5"><sup>5</sup></a></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(mondate)
<span class="co">#&gt; Loading required package: methods</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Attaching package: &#39;mondate&#39;</span>
<span class="co">#&gt; The following object is masked from &#39;package:base&#39;:</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;     as.difftime</span>
<span class="kw">add</span>(<span class="kw">mondate</span>(<span class="st">&quot;2010-03-31&quot;</span>), <span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">3</span>, <span class="dv">6</span>, <span class="dv">9</span>), <span class="dt">units =</span> <span class="st">&quot;months&quot;</span>)
<span class="co">#&gt; mondate: timeunits=&quot;months&quot;</span>
<span class="co">#&gt; [1] 2010-03-31 2010-06-30 2010-09-30 2010-12-31</span></code></pre></div>
<p>The items below are all worth reading.</p>
<ul>
<li>Date class: <a href="https://stat.ethz.ch/R-manual/R-devel/library/base/html/Dates.html" class="uri">https://stat.ethz.ch/R-manual/R-devel/library/base/html/Dates.html</a></li>
<li>lubridate: <a href="http://www.jstatsoft.org/v40/i03/paper" class="uri">http://www.jstatsoft.org/v40/i03/paper</a></li>
<li>Ripley and Hornik: <a href="http://www.r-project.org/doc/Rnews/Rnews_2001-2.pdf" class="uri">http://www.r-project.org/doc/Rnews/Rnews_2001-2.pdf</a></li>
<li>mondate: (<a href="https://code.google.com/p/mondate/" class="uri">https://code.google.com/p/mondate/</a>)</li>
</ul>
</div>
<div id="factors" class="section level2">
<h2><span class="header-section-number">4.4</span> Factors</h2>
<p>Factors are a pretty big gotcha. They were necessary many years ago when data collection and storage were expensive. A factor maps a character string to an integer, so that it takes up less space. The code below will illustrate the difference between a factor and a compararble character vector<a href="#fn6" class="footnoteRef" id="fnref6"><sup>6</sup></a>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">myColors &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Red&quot;</span>, <span class="st">&quot;Blue&quot;</span>, <span class="st">&quot;Green&quot;</span>, <span class="st">&quot;Red&quot;</span>, <span class="st">&quot;Blue&quot;</span>, <span class="st">&quot;Red&quot;</span>)
myFactor &lt;-<span class="st"> </span><span class="kw">factor</span>(myColors)
myColors
<span class="co">#&gt; [1] &quot;Red&quot;   &quot;Blue&quot;  &quot;Green&quot; &quot;Red&quot;   &quot;Blue&quot;  &quot;Red&quot;</span>
myFactor
<span class="co">#&gt; [1] Red   Blue  Green Red   Blue  Red  </span>
<span class="co">#&gt; Levels: Blue Green Red</span>
<span class="kw">typeof</span>(myFactor)
<span class="co">#&gt; [1] &quot;integer&quot;</span>
<span class="kw">class</span>(myFactor)
<span class="co">#&gt; [1] &quot;factor&quot;</span>
<span class="kw">is.character</span>(myFactor)
<span class="co">#&gt; [1] FALSE</span>
<span class="kw">is.character</span>(myColors)
<span class="co">#&gt; [1] TRUE</span></code></pre></div>
<p>Note that when we printed the value of <code>myFactor</code> we got the list of colors, but without the quotes around them. We are also told that our object has “Levels”. This is important as it defines the set of possible values for the factor. This is rather useful if you have a data set where the permissible values are constrained to a closed set, like gender, education, smoker/non-smoker, etc.</p>
<p>So, what happens if we want to add a new element to our factor?</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># This probably won&#39;t give you what you expect</span>
myOtherFactor &lt;-<span class="st"> </span><span class="kw">c</span>(myFactor, <span class="st">&quot;Orange&quot;</span>)
myOtherFactor
<span class="co">#&gt; [1] &quot;3&quot;      &quot;1&quot;      &quot;2&quot;      &quot;3&quot;      &quot;1&quot;      &quot;3&quot;      &quot;Orange&quot;</span>

<span class="co"># And this will give you an error</span>
myFactor[<span class="kw">length</span>(myFactor)+<span class="dv">1</span>] &lt;-<span class="st"> &quot;Orange&quot;</span>
<span class="co">#&gt; Warning in `[&lt;-.factor`(`*tmp*`, length(myFactor) + 1, value = &quot;Orange&quot;):</span>
<span class="co">#&gt; invalid factor level, NA generated</span>

<span class="co"># Must do things in two steps</span>
myOtherFactor &lt;-<span class="st"> </span><span class="kw">factor</span>(<span class="kw">c</span>(<span class="kw">levels</span>(myFactor), <span class="st">&quot;Orange&quot;</span>))
myOtherFactor[<span class="kw">length</span>(myOtherFactor)+<span class="dv">1</span>] &lt;-<span class="st"> &quot;Orange&quot;</span></code></pre></div>
<p>Ugh. In the first instance, R recognizes that it can’t append a new item to the factor. So, it converts the values to a string and then appends the string “Orange”. But note that the items are string values of integers. That’s because the underlying data of a factor <em>is</em> an integer. In the second instance, we first have to change the levels of the factor and then we can append our new data element.</p>
<p>Often when creating a data frame, R’s default behavior is to convert character values into a factor. When we get to creating data frames and importing data, you’ll often see us use code like the following:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">mojo &lt;-<span class="st"> </span><span class="kw">read.csv</span>(<span class="st">&quot;myFile.csv&quot;</span>, <span class="dt">stringsAsFactors =</span> <span class="ot">FALSE</span>)</code></pre></div>
<p>Now that you know what they are, you can spend the next few months avoiding factors. When R was created, there were compelling reasons to include factors and they still have some utility. More often than not, though, they’re a confusing hindrance. If characters aren’t behaving the way you expect them to, check the variables with <code>class</code> or <code>is.factor</code>. Convert them with <code>as.character</code> and you’ll be back on the road to happiness.</p>
</div>
<div id="exercises-1" class="section level2">
<h2><span class="header-section-number">4.5</span> Exercises</h2>
<ul>
<li>Create a logical, integer, double and character variable.</li>
<li>Can you create a vector with both logical and character values?</li>
<li>What happens when you try to add a logical to an integer? An integer to a double?</li>
</ul>
<div id="answers" class="section level3">
<h3><span class="header-section-number">4.5.1</span> Answers</h3>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">myLogical &lt;-<span class="st"> </span><span class="ot">TRUE</span>
myInteger &lt;-<span class="st"> </span><span class="dv">1</span>:<span class="dv">4</span>
myDouble &lt;-<span class="st"> </span><span class="fl">3.14</span>
myCharacter &lt;-<span class="st"> &quot;Hello!&quot;</span>

y &lt;-<span class="st"> </span>myLogical +<span class="st"> </span>myInteger
<span class="kw">typeof</span>(y)
<span class="co">#&gt; [1] &quot;integer&quot;</span>
y &lt;-<span class="st"> </span>myInteger +<span class="st"> </span>myDouble
<span class="kw">typeof</span>(y)
<span class="co">#&gt; [1] &quot;double&quot;</span></code></pre></div>

</div>
</div>
</div>
<div class="footnotes">
<hr />
<ol start="5">
<li id="fn5"><p>You can also use the <code>quarter</code> function to achieve much the same thing.<a href="chap-data-types.html#fnref5">↩</a></p></li>
<li id="fn6"><p>We haven’t covered vectors yet, but we’re getting there. If this code is confusing, just skip this section for now and come back after you’ve read up on vectors.<a href="chap-data-types.html#fnref6">↩</a></p></li>
</ol>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="data.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="chap-vectors.html" class="navigation navigation-next " aria-label="Next page""><i class="fa fa-angle-right"></i></a>

<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"facebook": true,
"twitter": true,
"google": false,
"weibo": false,
"instapper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/PirateGrunt/raw_book/edit/master/DataTypes.Rmd",
"text": null
},
"download": ["raw.pdf"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    if (location.protocol !== "file:" && /^https?:/.test(script.src))
      script.src  = script.src.replace(/^https?:/, '');
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
